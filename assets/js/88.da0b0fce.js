(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{531:function(_,v,t){"use strict";t.r(v);var r=t(3),s=Object(r.a)({},(function(){var _=this,v=_._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("p",[_._v("lm-evaluation-harness是一个用于自回归语言模型少样本评估的框架，其评测机制、维度和指标计算方法如下：")]),_._v(" "),v("h3",{attrs:{id:"评测机制"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#评测机制"}},[_._v("#")]),_._v(" 评测机制")]),_._v(" "),v("p",[_._v("lm-evaluation-harness采用分层抽象架构，通过五个核心组件实现评估全流程的标准化，具体如下：")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("TaskManager")]),_._v("：负责任务注册与管理，通过YAML配置解析、动态任务加载，支持1000+并发任务定义。")]),_._v(" "),v("li",[v("strong",[_._v("LM适配器")]),_._v("：对模型能力进行抽象，通过统一API封装、多后端适配，兼容Hugging Face Transformers/vLLM/SGLang等12种模型后端。")]),_._v(" "),v("li",[v("strong",[_._v("Evaluator")]),_._v("：控制评估流程，通过异步任务调度、分布式执行，支持16节点并行评估。")]),_._v(" "),v("li",[v("strong",[_._v("MetricCalculator")]),_._v("：作为指标计算引擎，进行统计偏差修正、置信区间估计，提供毫秒级精度的指标计算。")]),_._v(" "),v("li",[v("strong",[_._v("ResultManager")]),_._v("：负责结果存储与分析，采用结构化数据模型，支持TB级结果数据，并可通过可视化工具展示结果。")])]),_._v(" "),v("h3",{attrs:{id:"评测维度"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#评测维度"}},[_._v("#")]),_._v(" 评测维度")]),_._v(" "),v("p",[_._v("lm-evaluation-harness支持多种类型的评测任务，涵盖不同的评测维度：")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("多项选择任务")]),_._v("：如MMLU、Hellaswag等，主要考察模型的知识理解和推理能力，模型需要从多个选项中选择正确答案。")]),_._v(" "),v("li",[v("strong",[_._v("生成任务")]),_._v("：例如GSM8k、CoQA等，侧重于评估模型的文本生成能力，如生成问题的答案、续写故事等。")]),_._v(" "),v("li",[v("strong",[_._v("语言建模任务")]),_._v("：像Wikitext、Pile等，通过计算困惑度等指标，衡量模型对语言规律的学习和掌握程度。")]),_._v(" "),v("li",[v("strong",[_._v("分类任务")]),_._v("：如CoLA、SST-2等，用于评估模型对文本情感、语法正确性等方面的分类能力。")])]),_._v(" "),v("h3",{attrs:{id:"评测指标的计算方法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#评测指标的计算方法"}},[_._v("#")]),_._v(" 评测指标的计算方法")]),_._v(" "),v("p",[_._v("根据任务类型的不同，lm-evaluation-harness使用不同的评测指标，具体计算方法如下：")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("多项选择任务")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("准确率（acc）")]),_._v("：计算模型选择正确答案的比例，即正确答案的数量除以总样本数量。")]),_._v(" "),v("li",[v("strong",[_._v("归一化准确率（acc_norm）")]),_._v("：在一些情况下，对于多选题，模型可能会输出一个概率分布，归一化准确率会考虑模型输出的概率分布情况，对答案的正确性进行更细致的评估。")])])]),_._v(" "),v("li",[v("strong",[_._v("生成任务")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("精确匹配（exact_match）")]),_._v("：判断模型生成的文本与标准答案是否完全一致，完全一致则计为正确，否则为错误，正确的数量除以总样本数量即为精确匹配率。")]),_._v(" "),v("li",[v("strong",[_._v("BLEU")]),_._v("：用于评估生成文本与参考文本的相似性，通过计算n-gram的重叠程度来衡量，取值范围在0到1之间，1表示完全匹配。")]),_._v(" "),v("li",[v("strong",[_._v("ROUGE")]),_._v("：包括ROUGE-1、ROUGE-2、ROUGE-L等多种变体，主要基于召回率的思想，衡量生成文本与参考文本之间的重叠程度。")])])]),_._v(" "),v("li",[v("strong",[_._v("语言建模任务")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("困惑度（perplexity）")]),_._v("：用于衡量语言模型预测下一个单词的能力，计算公式为(PP(W)=2^{- \\frac{1}{N}\\sum_{i = 1}^{N}\\log_2P(w_i)})，其中(W=(w_1,w_2,\\cdots,w_N))是文本序列，(P(w_i))是模型预测(w_i)的概率。困惑度越低，说明模型对该文本序列的预测能力越强。")]),_._v(" "),v("li",[v("strong",[_._v("每字节比特数（bits_per_byte）")]),_._v("：也是衡量语言模型性能的一个指标，计算方法与困惑度相关，反映了模型对文本的压缩能力。")])])]),_._v(" "),v("li",[v("strong",[_._v("分类任务")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("F1分数")]),_._v("：是精确率（precision）和召回率（recall）的调和平均数，计算公式为(F1 = 2\\times\\frac{precision\\times recall}{precision + recall})，精确率是指模型正确预测为正类的样本数除以预测为正类的总样本数，召回率是指模型正确预测为正类的样本数除以实际正类的样本数。")]),_._v(" "),v("li",[v("strong",[_._v("马修斯相关系数（matthews_corrcoef）")]),_._v("：用于评估二分类问题中模型的性能，考虑了真阳性、假阳性、真阴性和假阴性的数量，取值范围在-1到1之间，1表示完美的预测，0表示随机预测，-1表示完全错误的预测。")])])])])])}),[],!1,null,null,null);v.default=s.exports}}]);