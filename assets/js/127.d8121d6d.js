(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{574:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("LangChain æœ‰å¾ˆå¤šä¼˜ç§€çš„æ›¿ä»£æ–¹æ¡ˆï¼Œæ¯ä¸ªéƒ½æœ‰ä¸åŒçš„è®¾è®¡å“²å­¦å’Œé€‚ç”¨åœºæ™¯ã€‚ä»¥ä¸‹æ˜¯ä¸»è¦çš„æ›¿ä»£æ–¹æ¡ˆï¼š")]),t._v(" "),s("h2",{attrs:{id:"_1-llamaindex-æœ€æµè¡Œçš„æ›¿ä»£å“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-llamaindex-æœ€æµè¡Œçš„æ›¿ä»£å“"}},[t._v("#")]),t._v(" 1. "),s("strong",[t._v("LlamaIndex")]),t._v("ï¼ˆæœ€æµè¡Œçš„æ›¿ä»£å“ï¼‰")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" llama_index "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" VectorStoreIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" SimpleDirectoryReader\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" llama_index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("llms "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" OpenAI\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ›´ä¸“æ³¨äºæ•°æ®è¿æ¥å’Œæ£€ç´¢")]),t._v("\ndocuments "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" SimpleDirectoryReader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nindex "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" VectorStoreIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_documents"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("documents"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nquery_engine "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("as_query_engine"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresponse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" query_engine"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ä½ çš„é—®é¢˜"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("ç‰¹ç‚¹")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ä¸“é•¿äºæ•°æ®è¿æ¥å’Œæ£€ç´¢å¢å¼ºç”Ÿæˆ(RAG)")]),t._v(" "),s("li",[t._v("æ›´ç®€å•çš„APIï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“")]),t._v(" "),s("li",[t._v("ä¼˜ç§€çš„æ–‡æ¡£å’Œå‘é‡å­˜å‚¨é›†æˆ")])]),t._v(" "),s("h2",{attrs:{id:"_2-haystack-ä¼ä¸šçº§é€‰æ‹©"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-haystack-ä¼ä¸šçº§é€‰æ‹©"}},[t._v("#")]),t._v(" 2. "),s("strong",[t._v("Haystack")]),t._v("ï¼ˆä¼ä¸šçº§é€‰æ‹©ï¼‰")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" haystack "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Pipeline\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" haystack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("document_stores "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" InMemoryDocumentStore\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" haystack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodes "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" EmbeddingRetriever"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" PromptNode\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é¢å‘ç”Ÿäº§ç¯å¢ƒçš„ç®¡é“è®¾è®¡")]),t._v("\ndocument_store "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" InMemoryDocumentStore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nretriever "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" EmbeddingRetriever"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document_store"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("document_store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nprompt_node "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PromptNode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("model_name_or_path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gpt-3.5-turbo"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\npipeline "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Pipeline"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npipeline"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("retriever"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Retriever"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" inputs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Query"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npipeline"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add_node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("prompt_node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PromptNode"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" inputs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Retriever"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("ç‰¹ç‚¹")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ä¼ä¸šçº§ç¨³å®šæ€§å’Œæ€§èƒ½")]),t._v(" "),s("li",[t._v("å¼ºå¤§çš„ç®¡é“(Pipeline)ç³»ç»Ÿ")]),t._v(" "),s("li",[t._v("ä¼˜ç§€çš„ç›‘æ§å’Œéƒ¨ç½²å·¥å…·")])]),t._v(" "),s("h2",{attrs:{id:"_3-semantic-kernel-å¾®è½¯å‡ºå“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-semantic-kernel-å¾®è½¯å‡ºå“"}},[t._v("#")]),t._v(" 3. "),s("strong",[t._v("Semantic Kernel")]),t._v("ï¼ˆå¾®è½¯å‡ºå“ï¼‰")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" semantic_kernel "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" sk\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" semantic_kernel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("planning "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" BasicPlanner\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¾®è½¯çš„AIåº”ç”¨æ¡†æ¶")]),t._v("\nkernel "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Kernel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nplanner "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" BasicPlanner"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nplan "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" planner"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("create_plan_async"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ä»»åŠ¡æè¿°"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" kernel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("ç‰¹ç‚¹")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å¾®è½¯å®˜æ–¹æ”¯æŒï¼Œä¸Azureæ·±åº¦é›†æˆ")]),t._v(" "),s("li",[t._v("å¼ºå¤§çš„è§„åˆ’(Planning)èƒ½åŠ›")]),t._v(" "),s("li",[t._v("è‰¯å¥½çš„ä¼ä¸šçº§ç‰¹æ€§")])]),t._v(" "),s("h2",{attrs:{id:"_4-autogpt-agentgpt-è‡ªä¸»ä»£ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-autogpt-agentgpt-è‡ªä¸»ä»£ç†"}},[t._v("#")]),t._v(" 4. "),s("strong",[t._v("AutoGPT")]),t._v(" / "),s("strong",[t._v("AgentGPT")]),t._v("ï¼ˆè‡ªä¸»ä»£ç†ï¼‰")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä¸“æ³¨äºè‡ªä¸»AIä»£ç†")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" autogpt "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" AutoGPT\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" autogpt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("agent "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Agent\n\nagent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Agent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BusinessAnalyst"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nagent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"åˆ†æå¸‚åœºæ•°æ®å¹¶ç”ŸæˆæŠ¥å‘Š"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("ç‰¹ç‚¹")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ä¸“æ³¨äºè‡ªä¸»ä»»åŠ¡æ‰§è¡Œ")]),t._v(" "),s("li",[t._v("å¼ºå¤§çš„å·¥å…·ä½¿ç”¨èƒ½åŠ›")]),t._v(" "),s("li",[t._v("é€‚åˆè‡ªåŠ¨åŒ–å·¥ä½œæµ")])]),t._v(" "),s("h2",{attrs:{id:"_5-transformers-agents-hugging-face"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-transformers-agents-hugging-face"}},[t._v("#")]),t._v(" 5. "),s("strong",[t._v("Transformers Agents")]),t._v("ï¼ˆHugging Faceï¼‰")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" transformers "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" HfAgent\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç›´æ¥ä½¿ç”¨Hugging Faceæ¨¡å‹")]),t._v("\nagent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" HfAgent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://api-inference.huggingface.co/models/bigcode/starcoder"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" agent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ç”Ÿæˆä¸€ä¸ªæ•°æ®å¯è§†åŒ–ä»£ç "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("ç‰¹ç‚¹")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç›´æ¥é›†æˆHugging Faceç”Ÿæ€ç³»ç»Ÿ")]),t._v(" "),s("li",[t._v("ä¸°å¯Œçš„é¢„è®­ç»ƒæ¨¡å‹")]),t._v(" "),s("li",[t._v("å¼€æºå‹å¥½")])]),t._v(" "),s("h2",{attrs:{id:"_6-langchain-lite-æ›¿ä»£æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-langchain-lite-æ›¿ä»£æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" 6. "),s("strong",[t._v("LangChain Lite")]),t._v(" æ›¿ä»£æ–¹æ¡ˆ")]),t._v(" "),s("h3",{attrs:{id:"minichain-æç®€æ›¿ä»£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#minichain-æç®€æ›¿ä»£"}},[t._v("#")]),t._v(" "),s("strong",[t._v("MiniChain")]),t._v("ï¼ˆæç®€æ›¿ä»£ï¼‰")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¶…è½»é‡çº§çš„é“¾å¼æ“ä½œ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" minichain "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" OpenAI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" transform\n\n"),s("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@prompt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("OpenAI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("answer_question")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" question"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"""åŸºäºä»¥ä¸‹ä¸Šä¸‹æ–‡ï¼š')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\n    é—®é¢˜ï¼š")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("question"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\n    ç­”æ¡ˆï¼š"""')])]),t._v("\n\nresponse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" answer_question"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ä¸Šä¸‹æ–‡å†…å®¹"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"é—®é¢˜"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"chainlit-ä¸“æ³¨äºui"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chainlit-ä¸“æ³¨äºui"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Chainlit")]),t._v("ï¼ˆä¸“æ³¨äºUIï¼‰")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" chainlit "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" cl\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¿«é€Ÿæ„å»ºChatGPTå¼ç•Œé¢")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@cl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("on_message")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¤„ç†æ¶ˆæ¯")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" cl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å›å¤"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"_7-ä¸“ä¸šé¢†åŸŸæ›¿ä»£æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-ä¸“ä¸šé¢†åŸŸæ›¿ä»£æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" 7. "),s("strong",[t._v("ä¸“ä¸šé¢†åŸŸæ›¿ä»£æ–¹æ¡ˆ")])]),t._v(" "),s("h3",{attrs:{id:"å¯¹äºæ•°æ®åˆ†æ-pandas-ai"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹äºæ•°æ®åˆ†æ-pandas-ai"}},[t._v("#")]),t._v(" "),s("strong",[t._v("å¯¹äºæ•°æ®åˆ†æ")]),t._v("ï¼šPandas AI")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pandasai "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" SmartDataframe\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pandas "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" pd\n\ndf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read_csv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data.csv"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsdf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" SmartDataframe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresponse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sdf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ç»˜åˆ¶é”€å”®è¶‹åŠ¿å›¾"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"å¯¹äºå¯¹è¯ai-rasa-botpress"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹äºå¯¹è¯ai-rasa-botpress"}},[t._v("#")]),t._v(" "),s("strong",[t._v("å¯¹äºå¯¹è¯AI")]),t._v("ï¼šRasa / Botpress")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä¼ä¸šçº§å¯¹è¯AIå¹³å°")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ›´é€‚åˆå¤æ‚çš„å¯¹è¯æµç¨‹ç®¡ç†")]),t._v("\n")])])]),s("h3",{attrs:{id:"å¯¹äºæœç´¢å¼•æ“-weaviate-chroma"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹äºæœç´¢å¼•æ“-weaviate-chroma"}},[t._v("#")]),t._v(" "),s("strong",[t._v("å¯¹äºæœç´¢å¼•æ“")]),t._v("ï¼šWeaviate / Chroma")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä¸“æ³¨äºå‘é‡æœç´¢")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" weaviate\nclient "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" weaviate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Client"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8080"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ›´ä¸“ä¸šçš„å‘é‡æ•°æ®åº“è§£å†³æ–¹æ¡ˆ")]),t._v("\n")])])]),s("h2",{attrs:{id:"è¯¦ç»†å¯¹æ¯”è¡¨æ ¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¯¦ç»†å¯¹æ¯”è¡¨æ ¼"}},[t._v("#")]),t._v(" è¯¦ç»†å¯¹æ¯”è¡¨æ ¼")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("æ¡†æ¶")]),t._v(" "),s("th",[t._v("ä¼˜ç‚¹")]),t._v(" "),s("th",[t._v("ç¼ºç‚¹")]),t._v(" "),s("th",[t._v("é€‚ç”¨åœºæ™¯")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("LangChain")])]),t._v(" "),s("td",[t._v("åŠŸèƒ½å…¨é¢ï¼Œç”Ÿæ€ä¸°å¯Œ")]),t._v(" "),s("td",[t._v("å­¦ä¹ æ›²çº¿é™¡å³­ï¼ŒAPIå¤æ‚")]),t._v(" "),s("td",[t._v("å¤æ‚AIåº”ç”¨ï¼ŒåŸå‹å¼€å‘")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("LlamaIndex")])]),t._v(" "),s("td",[t._v("RAGä¸“å®¶ï¼ŒAPIç®€æ´")]),t._v(" "),s("td",[t._v("åŠŸèƒ½ç›¸å¯¹ä¸“æ³¨")]),t._v(" "),s("td",[t._v("æ–‡æ¡£é—®ç­”ï¼Œæ•°æ®æ£€ç´¢")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Haystack")])]),t._v(" "),s("td",[t._v("ä¼ä¸šçº§ç¨³å®šï¼Œç›‘æ§å®Œå–„")]),t._v(" "),s("td",[t._v("ç›¸å¯¹ç¬¨é‡")]),t._v(" "),s("td",[t._v("ç”Ÿäº§ç¯å¢ƒï¼Œä¼ä¸šåº”ç”¨")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Semantic Kernel")])]),t._v(" "),s("td",[t._v("å¾®è½¯ç”Ÿæ€é›†æˆï¼Œè§„åˆ’å¼ºå¤§")]),t._v(" "),s("td",[t._v("ä¸»è¦é¢å‘.NET/Python")]),t._v(" "),s("td",[t._v("ä¼ä¸šçº§ï¼ŒAzureç”¨æˆ·")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("AutoGPT")])]),t._v(" "),s("td",[t._v("è‡ªä¸»æ€§å¼ºï¼Œè‡ªåŠ¨åŒ–å¥½")]),t._v(" "),s("td",[t._v("èµ„æºæ¶ˆè€—å¤§")]),t._v(" "),s("td",[t._v("è‡ªåŠ¨åŒ–ä»»åŠ¡ï¼ŒAIä»£ç†")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Transformers Agents")])]),t._v(" "),s("td",[t._v("HFç”Ÿæ€ä¸°å¯Œï¼Œå¼€æºå‹å¥½")]),t._v(" "),s("td",[t._v("ä¾èµ–HFåŸºç¡€è®¾æ–½")]),t._v(" "),s("td",[t._v("ç ”ç©¶ï¼Œå¼€æºé¡¹ç›®")])])])]),t._v(" "),s("h2",{attrs:{id:"é€‰æ‹©å»ºè®®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é€‰æ‹©å»ºè®®"}},[t._v("#")]),t._v(" é€‰æ‹©å»ºè®®")]),t._v(" "),s("h3",{attrs:{id:"æ ¹æ®éœ€æ±‚é€‰æ‹©"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ ¹æ®éœ€æ±‚é€‰æ‹©"}},[t._v("#")]),t._v(" "),s("strong",[t._v("æ ¹æ®éœ€æ±‚é€‰æ‹©")]),t._v("ï¼š")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("å¿«é€ŸåŸå‹å¼€å‘")]),t._v("ï¼šLangChain æˆ– LlamaIndex")]),t._v(" "),s("li",[s("strong",[t._v("ç”Ÿäº§ç¯å¢ƒ")]),t._v("ï¼šHaystack æˆ– Semantic Kernel")]),t._v(" "),s("li",[s("strong",[t._v("ä¸“æ³¨RAG")]),t._v("ï¼šLlamaIndex")]),t._v(" "),s("li",[s("strong",[t._v("è‡ªä¸»ä»£ç†")]),t._v("ï¼šAutoGPT")]),t._v(" "),s("li",[s("strong",[t._v("è½»é‡çº§åº”ç”¨")]),t._v("ï¼šMiniChain æˆ– ç›´æ¥ä½¿ç”¨OpenAI API")]),t._v(" "),s("li",[s("strong",[t._v("ä¼ä¸šçº§")]),t._v("ï¼šHaystackã€Semantic Kernel")])]),t._v(" "),s("h3",{attrs:{id:"ç®€å•é¡¹ç›®æ¨èç›´æ¥ä½¿ç”¨sdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç®€å•é¡¹ç›®æ¨èç›´æ¥ä½¿ç”¨sdk"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ç®€å•é¡¹ç›®æ¨èç›´æ¥ä½¿ç”¨SDK")]),t._v("ï¼š")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¾ˆå¤šæ—¶å€™ä¸éœ€è¦å®Œæ•´æ¡†æ¶")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" openai "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" OpenAI\nclient "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" OpenAI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nresponse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" client"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("completions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("create"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    model"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gpt-3.5-turbo"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    messages"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"role"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ä½ å¥½"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"è¿ç§»ç¤ºä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿ç§»ç¤ºä¾‹"}},[t._v("#")]),t._v(" è¿ç§»ç¤ºä¾‹")]),t._v(" "),s("h3",{attrs:{id:"ä»-langchain-è¿ç§»åˆ°-llamaindex"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»-langchain-è¿ç§»åˆ°-llamaindex"}},[t._v("#")]),t._v(" ä» LangChain è¿ç§»åˆ° LlamaIndexï¼š")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# LangChain æ–¹å¼")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("document_loaders "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" TextLoader\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text_splitter "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" CharacterTextSplitter\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vectorstores "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Chroma\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# LlamaIndex æ–¹å¼ï¼ˆæ›´ç®€æ´ï¼‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" llama_index "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" SimpleDirectoryReader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" VectorStoreIndex\ndocuments "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" SimpleDirectoryReader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nindex "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" VectorStoreIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_documents"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("documents"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"ä»-langchain-è¿ç§»åˆ°-haystack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»-langchain-è¿ç§»åˆ°-haystack"}},[t._v("#")]),t._v(" ä» LangChain è¿ç§»åˆ° Haystackï¼š")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# LangChain æ–¹å¼")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("agents "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" initialize_agent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Tool\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Haystack æ–¹å¼ï¼ˆæ›´æ¨¡å—åŒ–ï¼‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" haystack "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Pipeline\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" haystack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodes "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" PromptNode\n")])])]),s("h2",{attrs:{id:"æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),s("p",[s("strong",[t._v("æœ€ä½³é€‰æ‹©ç­–ç•¥")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("åˆå­¦è€…/ç®€å•é¡¹ç›®")]),t._v("ï¼šLlamaIndex æˆ– ç›´æ¥ä½¿ç”¨SDK")]),t._v(" "),s("li",[s("strong",[t._v("ä¼ä¸šç”Ÿäº§ç¯å¢ƒ")]),t._v("ï¼šHaystack")]),t._v(" "),s("li",[s("strong",[t._v("ç ”ç©¶/å®éªŒ")]),t._v("ï¼šLangChainï¼ˆç”Ÿæ€ä¸°å¯Œï¼‰")]),t._v(" "),s("li",[s("strong",[t._v("å¾®è½¯ç”Ÿæ€")]),t._v("ï¼šSemantic Kernel")]),t._v(" "),s("li",[s("strong",[t._v("æƒ³è¦æ›´ç°ä»£API")]),t._v("ï¼šAgno")])]),t._v(" "),s("p",[t._v('æ²¡æœ‰"æœ€å¥½"çš„æ¡†æ¶ï¼Œåªæœ‰æœ€é€‚åˆä½ é¡¹ç›®éœ€æ±‚çš„æ¡†æ¶ã€‚å¯¹äºå¤§å¤šæ•°åœºæ™¯ï¼Œ'),s("strong",[t._v("LlamaIndex")]),t._v(" æ˜¯ LangChain æœ€ç›´æ¥å’Œå‹å¥½çš„æ›¿ä»£å“ã€‚")]),t._v(" "),s("p",[t._v("å½“å‰ä¸­æ–‡å‘é‡æ¨¡å‹çš„å‘å±•éå¸¸æ´»è·ƒï¼Œå¤šå®¶æœºæ„å’Œå…¬å¸éƒ½æ¨å‡ºäº†æ€§èƒ½å“è¶Šçš„æ¨¡å‹ã€‚ä¸ºäº†è®©ä½ èƒ½å¿«é€Ÿäº†è§£ï¼Œæˆ‘å°†ä¸»æµçš„é€‰æ‹©æ•´ç†æˆäº†ä¸‹é¢çš„è¡¨æ ¼ã€‚")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("æ¨¡å‹ç³»åˆ— / æ¥æº")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("ä»£è¡¨æ€§æ¨¡å‹ä¸¾ä¾‹")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("æ ¸å¿ƒç‰¹ç‚¹ä¸é€‚ç”¨åœºæ™¯")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("é˜¿é‡Œé€šä¹‰åƒé—® (Qwen)")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("Qwen3-Embedding")]),t._v("ç³»åˆ— (å¦‚8B, 4Bç‰ˆæœ¬)")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("ä¸“æ³¨äº"),s("strong",[t._v("çº¯æ–‡æœ¬ä»»åŠ¡")]),t._v("ï¼Œåœ¨MTEBç­‰æƒå¨æ¦œå•ä¸Šè¡¨ç°ä¼˜å¼‚ï¼Œæ”¯æŒè¶…100ç§è¯­è¨€ï¼Œé€‚åˆæ™ºèƒ½æœç´¢ã€æ–‡æœ¬åˆ†ç±»å’ŒRAG ã€‚")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("æ™ºæºç ”ç©¶é™¢ (BGE)")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("BGE-Code-v1")]),t._v(", "),s("code",[t._v("BGE-VL-v1.5")]),t._v(", "),s("code",[t._v("BGE-VL-Screenshot")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("ç”Ÿæ€ä¸°å¯Œï¼Œè¦†ç›–"),s("strong",[t._v("ä»£ç ã€å›¾æ–‡ã€æˆªå›¾")]),t._v("ç­‰å¤šæ¨¡æ€æ£€ç´¢ï¼Œåœ¨ç‰¹å®šé¢†åŸŸåŸºå‡†æµ‹è¯•ä¸­æˆç»©é¢†å…ˆï¼Œé€‚åˆéœ€è¦å¤„ç†éçº¯æ–‡æœ¬æ•°æ®çš„åœºæ™¯ ã€‚")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("ç«å±±å¼•æ“ (Seed)")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("Seed1.6-Embedding")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("å¼ºè°ƒ"),s("strong",[t._v("å…¨æ¨¡æ€")]),t._v("èƒ½åŠ›ï¼Œæ”¯æŒæ–‡æœ¬ã€å›¾åƒã€è§†é¢‘çš„æ··åˆæ£€ç´¢ï¼Œæä¾›è‡ªå®šä¹‰æŒ‡ä»¤åŠŸèƒ½ï¼Œé€‚åˆå¤æ‚çš„å¤šæ¨¡æ€å’Œè·¨æ¨¡æ€æœç´¢éœ€æ±‚ ã€‚")])])])]),t._v(" "),s("h3",{attrs:{id:"ğŸ’¡-å¦‚ä½•é€‰æ‹©é€‚åˆçš„æ¨¡å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’¡-å¦‚ä½•é€‰æ‹©é€‚åˆçš„æ¨¡å‹"}},[t._v("#")]),t._v(" ğŸ’¡ å¦‚ä½•é€‰æ‹©é€‚åˆçš„æ¨¡å‹ï¼Ÿ")]),t._v(" "),s("p",[t._v("é¢å¯¹è¿™äº›ä¼˜ç§€çš„æ¨¡å‹ï¼Œä½ å¯ä»¥æ ¹æ®ä»¥ä¸‹æ€è·¯æ¥åšå‡ºå†³ç­–ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("æ˜ç¡®ä½ çš„ä»»åŠ¡ç±»å‹")])]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœä½ çš„åº”ç”¨åœºæ™¯å®Œå…¨æ˜¯"),s("strong",[t._v("æ–‡æœ¬å¤„ç†")]),t._v("ï¼ˆå¦‚æ–‡æ¡£æ£€ç´¢ã€é—®ç­”ç³»ç»Ÿï¼‰ï¼Œé‚£ä¹ˆ"),s("strong",[t._v("Qwen3-Embedding")]),t._v("ç³»åˆ—æ˜¯ä¸€ä¸ªæ€§èƒ½å¼ºåŠ²ä¸”ç»è¿‡å¹¿æ³›éªŒè¯çš„é€‰æ‹© ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœä½ çš„éœ€æ±‚æ¶‰åŠ"),s("strong",[t._v("ä»£ç ç†è§£")]),t._v("ï¼ˆå¦‚ä»£ç åº“æœç´¢ï¼‰ã€"),s("strong",[t._v("å›¾åƒæè¿°æ£€ç´¢")]),t._v("æˆ–"),s("strong",[t._v("ç½‘é¡µ/æ–‡æ¡£æˆªå›¾åˆ†æ")]),t._v("ï¼Œé‚£ä¹ˆ"),s("strong",[t._v("æ™ºæºBGE")]),t._v("ç³»åˆ—çš„ä¸“ç”¨æ¨¡å‹ä¼šæ›´æœ‰ä¼˜åŠ¿ ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœä½ çš„ä¸šåŠ¡éœ€è¦åŒæ—¶å¤„ç†"),s("strong",[t._v("æ–‡æœ¬ã€å›¾ç‰‡ç”šè‡³è§†é¢‘")]),t._v("ï¼Œå¹¶å¸Œæœ›å®ƒä»¬èƒ½åœ¨åŒä¸€ä¸ªå‘é‡ç©ºé—´ä¸­è¿›è¡Œæ··åˆæ£€ç´¢ï¼Œå¯ä»¥é‡ç‚¹å…³æ³¨"),s("strong",[t._v("ç«å±±å¼•æ“çš„Seedæ¨¡å‹")]),t._v(" ã€‚")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("è€ƒè™‘éƒ¨ç½²æ¡ä»¶")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("å¼€æºéƒ¨ç½²")]),t._v("ï¼šä¸Šè¿°æ¨¡å‹åŸºæœ¬éƒ½åœ¨Hugging Faceã€é­”æ­ï¼ˆModelScopeï¼‰ç­‰å¹³å°å¼€æºï¼Œé€‚åˆå¸Œæœ›è‡ªè¡Œéƒ¨ç½²ã€å¾®è°ƒä»¥æŒæ§æ•°æ®å’Œæ¨¡å‹çš„å›¢é˜Ÿ ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("APIæœåŠ¡è°ƒç”¨")]),t._v("ï¼šå¦‚æœä½ å¸Œæœ›å¿«é€Ÿé›†æˆã€é¿å…ç»´æŠ¤æ¨¡å‹çš„å¤æ‚æ€§ï¼Œå¯ä»¥å…³æ³¨æ¨¡å‹æä¾›å•†å®˜æ–¹çš„APIæœåŠ¡ï¼Œä¾‹å¦‚é€šè¿‡é˜¿é‡Œäº‘ç™¾ç‚¼è°ƒç”¨Qwenæ¨¡å‹ï¼Œæˆ–é€šè¿‡ç«å±±æ–¹èˆŸè°ƒç”¨Seedæ¨¡å‹ ã€‚")])])])]),t._v(" "),s("p",[t._v("å¸Œæœ›è¿™ä»½æ¢³ç†èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°äº†è§£å½“å‰çš„ä¸»æµé€‰æ‹©ã€‚å¦‚æœä½ èƒ½åˆ†äº«ä¸€ä¸‹ä½ è®¡åˆ’å°†æ¨¡å‹ç”¨åœ¨ä»€ä¹ˆå…·ä½“é¡¹ç›®ä¸Šï¼Œæˆ–è®¸æˆ‘å¯ä»¥æä¾›æ›´ç»†è‡´çš„å»ºè®®ã€‚")]),t._v(" "),s("p",[t._v("æ·±å…¥å‰–æ "),s("strong",[t._v("Prompt-tuning")]),t._v(" è¿™é¡¹å…³é”®ä¸”å®ç”¨çš„æŠ€æœ¯ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœè¯´ä¼ ç»Ÿçš„"),s("strong",[t._v("å¾®è°ƒï¼ˆFine-tuningï¼‰")]),t._v(" æ˜¯ç»™é¢„è®­ç»ƒå¤§æ¨¡å‹â€œåŠ¨æ‰‹æœ¯â€ï¼Œé€šè¿‡æ›´æ–°"),s("strong",[t._v("æ‰€æœ‰")]),t._v("å‚æ•°æ¥è®©å®ƒé€‚åº”æ–°ä»»åŠ¡ï¼Œé‚£ä¹ˆ "),s("strong",[t._v("Prompt-tuning å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§â€œå‚¬çœ æœ¯â€æˆ–â€œå¼•å¯¼æœ¯â€")]),t._v("ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š"),s("strong",[t._v("ä¿æŒé¢„è®­ç»ƒå¤§æ¨¡å‹çš„æ‰€æœ‰å‚æ•°å†»ç»“ï¼ˆä¸åŠ¨ï¼‰ï¼Œåªé€šè¿‡ä¼˜åŒ–ä¸€å°æ®µå¯å­¦ä¹ çš„â€œè½¯æç¤ºâ€ï¼ˆSoft Promptï¼‰ï¼Œæ¥æ¿€å‘æ¨¡å‹è§£å†³ç‰¹å®šä»»åŠ¡çš„æ½œèƒ½ã€‚")])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"ä¸€ã€æ ¸å¿ƒæ€æƒ³-ä»-ç¡¬æç¤º-åˆ°-è½¯æç¤º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€æ ¸å¿ƒæ€æƒ³-ä»-ç¡¬æç¤º-åˆ°-è½¯æç¤º"}},[t._v("#")]),t._v(" ä¸€ã€æ ¸å¿ƒæ€æƒ³ï¼šä»â€œç¡¬æç¤ºâ€åˆ°â€œè½¯æç¤ºâ€")]),t._v(" "),s("p",[t._v("ä¸ºäº†æ›´å¥½åœ°ç†è§£ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªå¯¹æ¯”ï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("ç¡¬æç¤ºï¼ˆHard Prompt / æ‰‹å·¥æç¤ºï¼‰")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("è¿™æ˜¯æˆ‘ä»¬å¹³æ—¶ä¸ChatGPTç­‰æ¨¡å‹äº¤äº’çš„æ–¹å¼ã€‚æˆ‘ä»¬é€šè¿‡è‡ªç„¶è¯­è¨€ç²¾å¿ƒè®¾è®¡æŒ‡ä»¤ï¼Œä¾‹å¦‚ï¼š\n"),s("blockquote",[s("p",[s("strong",[t._v("æŒ‡ä»¤")]),t._v("ï¼šâ€œå°†ä»¥ä¸‹æ–‡æœ¬åˆ†ç±»ä¸ºæ­£é¢æˆ–è´Ÿé¢æƒ…æ„Ÿã€‚æ–‡æœ¬ï¼š'è¿™éƒ¨ç”µå½±å¤ªç²¾å½©äº†ï¼'â€")])])]),t._v(" "),s("li",[s("strong",[t._v("ç¼ºç‚¹")]),t._v("ï¼šè¿™éœ€è¦å¤§é‡çš„äººå·¥å°è¯•å’Œè°ƒæ•´ï¼ˆPrompt Engineeringï¼‰ï¼Œæ•ˆæœä¸ç¨³å®šï¼Œä¸”æ‰¾åˆ°æœ€ä¼˜æç¤ºå¦‚åŒå¤§æµ·æé’ˆã€‚")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("è½¯æç¤ºï¼ˆSoft Promptï¼‰")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("Prompt-tuning ä¸å†ä½¿ç”¨äººç±»å¯è¯»çš„è¯è¯­ä½œä¸ºæç¤ºã€‚è€Œæ˜¯"),s("strong",[t._v("å¼•å…¥ä¸€å°æ®µå¯è®­ç»ƒçš„ã€ç”±æ¨¡å‹åµŒå…¥ç©ºé—´ä¸­çš„å‘é‡ï¼ˆä¸€ç»„æ•°å­—ï¼‰ç»„æˆçš„â€œæç¤ºâ€")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("è¿™äº›å‘é‡æ²¡æœ‰ç›´æ¥çš„è¯­ä¹‰å¯¹åº”ï¼Œå®ƒä»¬æ˜¯é€šè¿‡æ¢¯åº¦ä¸‹é™ç®—æ³•åœ¨æ•°æ®ä¸Š"),s("strong",[t._v("è‡ªåŠ¨å­¦ä¹ å‡ºæ¥çš„â€œæœ€ä¼˜æŒ‡ä»¤â€")]),t._v("ã€‚å¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸€ç§æ¨¡å‹èƒ½â€œå¿ƒé¢†ç¥ä¼šâ€çš„å¯†è¯­ã€‚")])])])]),t._v(" "),s("p",[t._v("ä¸‹é¢çš„æµç¨‹å›¾æ¸…æ™°åœ°å±•ç¤ºäº†Prompt-tuningåœ¨åº”ç”¨æ—¶ä¸Fine-tuningçš„åŒºåˆ«ï¼š")]),t._v(" "),s("div",{staticClass:"language-mermaid extra-class"},[s("pre",{pre:!0,attrs:{class:"language-mermaid"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("flowchart")]),t._v(" TD\n    A"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[è¾“å…¥æ–‡æœ¬]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" B\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("subgraph")]),t._v(" B "),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[æ–¹æ³•é€‰æ‹©]")]),t._v("\n        B1"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[Fine-tuning<br>æ›´æ–°å…¨éƒ¨æ¨¡å‹å‚æ•°]")]),t._v("\n        B2"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[Prompt-tuning<br>ä»…ä¼˜åŒ–æç¤ºå‘é‡]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n    B1 "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" C1"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[æ¨¡å‹å‚æ•°è¢«æ”¹å˜<br>â€œåŠ¨äº†æ‰‹æœ¯â€]")]),t._v("\n    B2 "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" C2"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[æ¨¡å‹å‚æ•°ä¿æŒå†»ç»“<br>â€œè¢«å‚¬çœ å¼•å¯¼â€]")]),t._v("\n\n    C1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" C2 "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" D"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[ä»»åŠ¡è¾“å‡º]")]),t._v("\n")])])]),s("hr"),t._v(" "),s("h3",{attrs:{id:"äºŒã€prompt-tuning-çš„ä¸»è¦ä¼˜åŠ¿"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€prompt-tuning-çš„ä¸»è¦ä¼˜åŠ¿"}},[t._v("#")]),t._v(" äºŒã€Prompt-tuning çš„ä¸»è¦ä¼˜åŠ¿")]),t._v(" "),s("p",[t._v("ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä½¿ç”¨Prompt-tuningï¼Ÿç›¸æ¯”äºä¼ ç»Ÿçš„Fine-tuningï¼Œå®ƒå¸¦æ¥äº†é©å‘½æ€§çš„å¥½å¤„ï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("å‚æ•°æ•ˆç‡æé«˜ï¼ˆParameter-Efficientï¼‰")])]),t._v(" "),s("ul",[s("li",[t._v("ä¼ ç»Ÿå¾®è°ƒéœ€è¦æ›´æ–°æ•´ä¸ªæ¨¡å‹ï¼ˆå¯èƒ½åŒ…å«æ•°åäº¿ç”šè‡³æ•°åƒäº¿å‚æ•°ï¼‰ï¼Œè®¡ç®—å’Œå­˜å‚¨æˆæœ¬å·¨å¤§ã€‚")]),t._v(" "),s("li",[t._v("Prompt-tuning åªä¼˜åŒ–æå°‘é‡çš„å‚æ•°ï¼ˆé€šå¸¸åªå æ¨¡å‹æ€»å‚æ•°çš„0.01%~1%ï¼‰ï¼Œå¤§å¤§é™ä½äº†ç¡¬ä»¶é—¨æ§›ã€‚")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("é¿å…ç¾éš¾æ€§é—å¿˜ï¼ˆCatastrophic Forgettingï¼‰")])]),t._v(" "),s("ul",[s("li",[t._v("ä¼ ç»Ÿå¾®è°ƒå¯èƒ½ä¼šä¸ºäº†è®©æ¨¡å‹é€‚åº”æ–°ä»»åŠ¡è€Œè¦†ç›–æ‰é¢„è®­ç»ƒæ—¶å­¦åˆ°çš„é€šç”¨çŸ¥è¯†ã€‚")]),t._v(" "),s("li",[t._v("Prompt-tuning ä¿æŒåŸæ¨¡å‹å‚æ•°ä¸å˜ï¼Œå®Œç¾ä¿ç•™äº†æ¨¡å‹åœ¨é¢„è®­ç»ƒé˜¶æ®µè·å¾—çš„æ‰€æœ‰çŸ¥è¯†å’Œèƒ½åŠ›ã€‚")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("æ˜“äºéƒ¨ç½²å’Œåˆ‡æ¢")])]),t._v(" "),s("ul",[s("li",[t._v("å¯¹äºä¸€ä¸ªåŸºç¡€æ¨¡å‹ï¼ˆå¦‚LLaMA 3ï¼‰ï¼Œä½ å¯ä»¥ä¸ºä¸åŒä»»åŠ¡ï¼ˆæƒ…æ„Ÿåˆ†æã€å‘½åå®ä½“è¯†åˆ«ã€æ–‡æœ¬æ‘˜è¦ï¼‰è®­ç»ƒå‡ºå¤šä¸ªä¸åŒçš„â€œè½¯æç¤ºâ€ã€‚")]),t._v(" "),s("li",[t._v("éƒ¨ç½²æ—¶ï¼Œä½ åªéœ€è¦ä¿å­˜å’ŒåŠ è½½è¿™äº›å°å°çš„æç¤ºæ–‡ä»¶ï¼ˆå‡ KBåˆ°å‡ MBï¼‰ï¼Œå³å¯è®©åŒä¸€ä¸ªæ¨¡å‹å®ä¾‹ç¬é—´åˆ‡æ¢ä¸ºä¸åŒä»»åŠ¡çš„ä¸“å®¶ï¼Œè€Œæ— éœ€ç»´æŠ¤å¤šä¸ªå®Œæ•´çš„æ¨¡å‹å‰¯æœ¬ï¼ˆæ¯ä¸ªéƒ½å¯èƒ½æ˜¯å‡ ä¸ªGBï¼‰ã€‚")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("æ•ˆæœé€¼è¿‘å…¨é‡å¾®è°ƒ")])]),t._v(" "),s("ul",[s("li",[t._v("å°¤å…¶æ˜¯åœ¨æ¨¡å‹è§„æ¨¡è¶³å¤Ÿå¤§ï¼ˆä¾‹å¦‚è¶…è¿‡100äº¿å‚æ•°ï¼‰æ—¶ï¼ŒPrompt-tuning çš„æ€§èƒ½å¯ä»¥é€¼è¿‘ç”šè‡³åœ¨æŸäº›ä»»åŠ¡ä¸Šè¶…è¶Šå…¨é‡å¾®è°ƒã€‚")])])])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"ä¸‰ã€prompt-tuning-çš„å®¶æ—æˆå‘˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€prompt-tuning-çš„å®¶æ—æˆå‘˜"}},[t._v("#")]),t._v(" ä¸‰ã€Prompt-tuning çš„å®¶æ—æˆå‘˜")]),t._v(" "),s("p",[t._v("Prompt-tuning æ˜¯ä¸€ä¸ªå¤§å®¶æ—ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç§æ¼”è¿›çš„æŠ€æœ¯ï¼š")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("æŠ€æœ¯åç§°")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("æ ¸å¿ƒæ€æƒ³")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("ç¤ºæ„å›¾ç®€é‡Š")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("Prompt Tuning")]),t._v(" (ç‹­ä¹‰)")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("åªåœ¨è¾“å…¥å±‚æ·»åŠ å¯è®­ç»ƒçš„æç¤ºå‘é‡ã€‚")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("[å¯è®­ç»ƒå‘é‡] + [è¾“å…¥æ–‡æœ¬] -> [å†»ç»“çš„æ¨¡å‹]")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("Prefix-Tuning")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("ä¸ä»…åœ¨è¾“å…¥å±‚ï¼Œè¿˜åœ¨æ¨¡å‹çš„æ¯ä¸€å±‚ï¼ˆæˆ–ä¸­é—´å±‚ï¼‰å‰é¢æ·»åŠ å¯è®­ç»ƒçš„å‰ç¼€å‘é‡ï¼Œæ§åˆ¶èƒ½åŠ›æ›´å¼ºã€‚")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("[å¯è®­ç»ƒå‘é‡] + [æ¯å±‚çš„æ¿€æ´»å€¼] -> [å†»ç»“çš„ä¸‹ä¸€å±‚]")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("P-Tuning")]),t._v(" / "),s("strong",[t._v("P-Tuning v2")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("ä¸€ç§æ›´å…ˆè¿›çš„ä¼˜åŒ–æ–¹å¼ï¼Œä½¿ç”¨ä¸€ä¸ªè½»é‡çº§çš„â€œæç¤ºç¼–ç å™¨â€ï¼ˆå¦‚LSTMæˆ–MLPï¼‰æ¥ç”Ÿæˆæç¤ºå‘é‡ï¼Œè€Œéç›´æ¥ä¼˜åŒ–ï¼Œæ•ˆæœæ›´ç¨³å®šã€‚P-Tuning v2 å°†å…¶æ‰©å±•åˆ°äº†æ‰€æœ‰å±‚ï¼Œç±»ä¼¼Prefix-Tuningã€‚")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("[è¾“å…¥æ–‡æœ¬] -> [è½»é‡çº§æç¤ºç¼–ç å™¨] -> [å¯è®­ç»ƒå‘é‡] -> [å†»ç»“çš„æ¨¡å‹]")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("LoRA (Low-Rank Adaptation)")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("è™½ç„¶ä¸å®Œå…¨æ˜¯Prompt-tuningï¼Œä½†åŒå±"),s("strong",[t._v("å‚æ•°é«˜æ•ˆæ€§å¾®è°ƒï¼ˆPEFTï¼‰")]),t._v(" å®¶æ—ã€‚å®ƒé€šè¿‡å‘æ¨¡å‹å†…éƒ¨æ³¨å…¥ä½ç§©çŸ©é˜µæ¥é—´æ¥æ¨¡æ‹Ÿå‚æ•°æ›´æ–°ï¼Œè€Œéæ·»åŠ æç¤ºã€‚")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("[å†»ç»“çš„æ¨¡å‹æƒé‡] + [ä½ç§©çŸ©é˜µA&B] -> [é€‚åº”åçš„æ•ˆæœ]")])])])])]),t._v(" "),s("p",[t._v("ç°åœ¨ï¼Œè¿™äº›æ–¹æ³•é€šå¸¸è¢«ç»Ÿç§°ä¸º "),s("strong",[t._v("PEFT")]),t._v("ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"å››ã€ä¸€ä¸ªç®€å•çš„ç±»æ¯”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€ä¸€ä¸ªç®€å•çš„ç±»æ¯”"}},[t._v("#")]),t._v(" å››ã€ä¸€ä¸ªç®€å•çš„ç±»æ¯”")]),t._v(" "),s("p",[t._v("ä¸ºäº†è®©æ‚¨å°è±¡æ›´æ·±åˆ»ï¼Œæˆ‘ä»¬æ¥åšä¸€ä¸ªæœ‰è¶£çš„ç±»æ¯”ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("é¢„è®­ç»ƒå¤§æ¨¡å‹")]),t._v("ï¼šä¸€ä½"),s("strong",[t._v("çŸ¥è¯†æ¸Šåšçš„å…¨ç§‘åŒ»ç”Ÿ")]),t._v("ï¼ŒæŒæ¡äº†å…¨é¢çš„åŒ»å­¦ç†è®ºã€‚")]),t._v(" "),s("li",[s("strong",[t._v("æ–°ä»»åŠ¡")]),t._v("ï¼šå¿«é€Ÿæˆä¸ºä¸€å"),s("strong",[t._v("é¡¶çº§çš„çš®è‚¤ç§‘ä¸“å®¶")]),t._v("ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("å…¨é‡å¾®è°ƒï¼ˆFine-tuningï¼‰")]),t._v("ï¼šè®©è¿™ä½å…¨ç§‘åŒ»ç”Ÿ"),s("strong",[t._v("é‡æ–°å›åŒ»å­¦é™¢ï¼ŒèŠ±å‡ å¹´æ—¶é—´é‡ä¿®æ‰€æœ‰ç§‘ç›®ï¼Œä½†é‡ç‚¹å¼ºåŒ–çš®è‚¤ç§‘")]),t._v("ã€‚ä»£ä»·å·¨å¤§ï¼Œè€Œä¸”å¯èƒ½å¿˜äº†å…¶ä»–ç§‘çš„çŸ¥è¯†ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("æç¤ºå·¥ç¨‹ï¼ˆHard Promptï¼‰")]),t._v("ï¼šä½ æ¯æ¬¡éƒ½å¯¹ä»–è¯´ï¼šâ€œ"),s("strong",[t._v("è¯·ä½ ç°åœ¨æ‰®æ¼”ä¸€ä¸ªçš®è‚¤ç§‘ä¸“å®¶ï¼Œçœ‹çœ‹è¿™ä¸ªç—…ä¾‹â€¦â€¦")]),t._v("â€ æ•ˆæœå–å†³äºä½ çš„æŒ‡ä»¤æ°´å¹³ï¼Œä¸ç¨³å®šã€‚")]),t._v(" "),s("li",[s("strong",[t._v("æç¤ºè°ƒä¼˜ï¼ˆPrompt-tuningï¼‰")]),t._v("ï¼šä½ é€šè¿‡ä¸€ç§â€œå‚¬çœ æœ¯â€ï¼Œä¸ºä»–æ¤å…¥ä¸€æ®µ"),s("strong",[t._v("ç‰¹å®šçš„â€œæ€ç»´å¯¼å›¾â€ï¼ˆè½¯æç¤ºï¼‰")]),t._v("ã€‚ä¸€æ—¦æ¤å…¥ï¼Œä»–çœ‹ä»»ä½•ç—…æ‚£æ—¶ï¼Œéƒ½ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°çš®è‚¤ç§‘ä¸“å®¶çš„æ€ç»´æ¨¡å¼ï¼Œæ— éœ€ä½ å†æ¯æ¬¡å£å¤´æŒ‡ä»¤ã€‚è¿™æ®µâ€œæ€ç»´å¯¼å›¾â€å°±æ˜¯å­¦ä¹ å‡ºæ¥çš„æç¤ºå‘é‡ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"æ€»ç»“-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“-2"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),s("p",[s("strong",[t._v("Prompt-tuning/PEFT æŠ€æœ¯æ˜¯å¤§æ¨¡å‹æ—¶ä»£åº”ç”¨è½åœ°çš„å…³é”®æŠ€æœ¯ä¹‹ä¸€ã€‚")]),t._v(" å®ƒæå¤§åœ°é™ä½äº†å®šåˆ¶å’Œä½¿ç”¨å¤§æ¨¡å‹çš„æˆæœ¬ï¼Œè®©æ›´å¤šçš„ç ”ç©¶è€…å’Œå¼€å‘è€…èƒ½å¤Ÿåœ¨ä¸å…·å¤‡å¼ºå¤§ç®—åŠ›çš„æƒ…å†µä¸‹ï¼Œé«˜æ•ˆåœ°è®©é€šç”¨å¤§æ¨¡å‹ä¸ºè‡ªèº«çš„ä¸“å±ä»»åŠ¡æœåŠ¡ã€‚")]),t._v(" "),s("p",[t._v("åœ¨å®é™…å·¥ä½œä¸­ï¼Œå½“æˆ‘ä»¬æ‹¿åˆ°ä¸€ä¸ªå¦‚ Qwenã€ChatGLM è¿™æ ·çš„ä¼˜ç§€åŸºåº§æ¨¡å‹åï¼Œç¬¬ä¸€æ­¥å¾€å¾€å°±æ˜¯å°è¯•ä½¿ç”¨ Prompt-tuning æˆ– LoRA ç­‰æŠ€æœ¯å¯¹å…¶è¿›è¡Œé«˜æ•ˆé€‚é…ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿›è¡Œå…¨é‡å¾®è°ƒã€‚")]),t._v(" "),s("p",[t._v("å¥½çš„ï¼Œæˆ‘ä»¬æ¥æ·±å…¥æ¢è®¨ä¸€ä¸‹ "),s("strong",[t._v("Prefix Tuning")]),t._v("ã€‚ä½œä¸ºå¤§æ¨¡å‹åº”ç”¨å¼€å‘è€…ï¼Œç†è§£è¿™é¡¹æŠ€æœ¯è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ç§éå¸¸ç»å…¸ä¸”é«˜æ•ˆçš„å‚æ•°é«˜æ•ˆæ€§å¾®è°ƒï¼ˆPEFTï¼‰æ–¹æ³•ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœè¯´ä¼ ç»Ÿçš„å¾®è°ƒï¼ˆFine-tuningï¼‰æ˜¯ç»™å¤§æ¨¡å‹â€œæ¢è„‘æ‰‹æœ¯â€ï¼Œé‚£ä¹ˆ "),s("strong",[t._v("Prefix-Tuning å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§â€œæ·±åº¦å‚¬çœ â€æˆ–â€œå‰ç½®å¼•å¯¼â€")]),t._v("ã€‚å®ƒæ¯”æˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„æ™®é€šPrompt-Tuningæ›´è¿›äº†ä¸€æ­¥ï¼Œå¼•å¯¼å¾—æ›´æ·±ã€æ›´æœ‰æ•ˆã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"ä¸€ã€æ ¸å¿ƒæ€æƒ³-åœ¨æ¯ä¸€å±‚ä¹‹å‰æ·»åŠ å¯å­¦ä¹ çš„-å‰ç¼€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€æ ¸å¿ƒæ€æƒ³-åœ¨æ¯ä¸€å±‚ä¹‹å‰æ·»åŠ å¯å­¦ä¹ çš„-å‰ç¼€"}},[t._v("#")]),t._v(" ä¸€ã€æ ¸å¿ƒæ€æƒ³ï¼šåœ¨æ¯ä¸€å±‚ä¹‹å‰æ·»åŠ å¯å­¦ä¹ çš„â€œå‰ç¼€â€")]),t._v(" "),s("p",[t._v("ä¸ºäº†ç›´è§‚ç†è§£å®ƒçš„å·¥ä½œåŸç†ï¼Œæˆ‘ä»¬å°†å…¶ä¸æ™®é€šå¾®è°ƒå’ŒåŸºç¡€Prompt-Tuningè¿›è¡Œå¯¹æ¯”ï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"/hmblog//images/fine-tuning/prefix-tuning.png",alt:"Prefix Tuning"}})]),t._v(" "),s("p",[t._v("ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºPrefix-Tuningçš„ç‹¬ç‰¹ä¹‹å¤„ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("æ™®é€šPrompt-Tuning")]),t._v("ï¼šåªåœ¨æ¨¡å‹çš„"),s("strong",[t._v("è¾“å…¥åµŒå…¥å±‚ï¼ˆInput Embedding Layerï¼‰")]),t._v(" æ·»åŠ å¯è®­ç»ƒçš„æç¤ºå‘é‡ã€‚è¿™ç›¸å½“äºåœ¨å¯¹è¯å¼€å§‹æ—¶ç»™æ¨¡å‹ä¸€ä¸ªæ€»ä½“çš„æŒ‡ä»¤ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("Prefix-Tuning")]),t._v("ï¼šä¸ä»…åœ¨è¾“å…¥å±‚ï¼Œè€Œæ˜¯åœ¨"),s("strong",[t._v("æ¨¡å‹çš„æ¯ä¸€å±‚ï¼ˆæˆ–æŸå‡ å±‚ï¼‰çš„æ¿€æ´»ï¼ˆactivationï¼‰ä¹‹å‰")]),t._v("ï¼Œéƒ½æ·»åŠ ä¸€ç»„å¯è®­ç»ƒçš„å‰ç¼€å‘é‡ã€‚è¿™ç›¸å½“äºåœ¨æ¨¡å‹æ€è€ƒçš„æ¯ä¸€ä¸ªæ­¥éª¤ã€æ¯ä¸€ä¸ªé˜¶æ®µéƒ½ä¸æ–­åœ°è¿›è¡Œå¼•å¯¼å’Œæé†’ï¼Œç¡®ä¿å®ƒä¸åç¦»è½¨é“ã€‚")])]),t._v(" "),s("p",[s("strong",[t._v("å…³é”®æ¯”å–»ï¼š")]),t._v("\næƒ³è±¡ä½ åœ¨æŒ‡å¯¼ä¸€ä½å®ä¹ ç”Ÿå†™æŠ¥å‘Šã€‚")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("Fine-tuning")]),t._v("ï¼šä½ æŠŠä»–é€å»é‡æ–°åŸ¹è®­ï¼Œæ”¹å˜ä»–çš„æ•´ä¸ªçŸ¥è¯†ç»“æ„ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("Prompt-Tuning")]),t._v("ï¼šä½ åœ¨ä»»åŠ¡å¼€å§‹æ—¶ç»™ä»–ä¸€ä»½è¯¦ç»†çš„ä¹¦é¢æŒ‡ä»¤ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("Prefix-Tuning")]),t._v("ï¼šä½ ä¸ä»…ç»™äº†ä¹¦é¢æŒ‡ä»¤ï¼Œè¿˜åœ¨ä»–å†™æŠ¥å‘Šçš„æ¯ä¸€ä¸ªç« èŠ‚ï¼ˆå¼•è¨€ã€æ­£æ–‡ã€ç»“è®ºï¼‰å¼€å§‹æ—¶ï¼Œéƒ½åœ¨ä»–æ—è¾¹ç»™äºˆé’ˆå¯¹æ€§çš„æç¤ºå’Œå¼•å¯¼ã€‚è¿™ç§â€œæŒç»­é™ªä¼´â€å¼çš„æŒ‡å¯¼æ˜¾ç„¶æ›´æ·±å…¥ã€æ›´æœ‰æ•ˆã€‚")])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"äºŒã€æŠ€æœ¯ç»†èŠ‚-å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€æŠ€æœ¯ç»†èŠ‚-å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„"}},[t._v("#")]),t._v(" äºŒã€æŠ€æœ¯ç»†èŠ‚ï¼šå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("å†»ç»“ä¸»æ¨¡å‹")]),t._v("ï¼šé¢„è®­ç»ƒå¤§æ¨¡å‹çš„æ‰€æœ‰å‚æ•°è¢«"),s("strong",[t._v("å†»ç»“ï¼ˆFreezeï¼‰")]),t._v("ï¼Œä¸å…è®¸æ›´æ–°ã€‚è¿™æœ€å¤§ç¨‹åº¦ä¿ç•™äº†æ¨¡å‹åŸæœ‰çš„çŸ¥è¯†ï¼Œé¿å…äº†ç¾éš¾æ€§é—å¿˜ã€‚")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("å¼•å…¥å‰ç¼€çŸ©é˜µï¼ˆPrefix Matrixï¼‰")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æˆ‘ä»¬ä¸ºæ¨¡å‹éœ€è¦æ·»åŠ å‰ç¼€çš„æ¯ä¸€å±‚ï¼Œéƒ½åˆå§‹åŒ–ä¸€ä¸ªå°çš„ã€å¯è®­ç»ƒçš„çŸ©é˜µï¼Œç§°ä¸ºå‰ç¼€çŸ©é˜µã€‚")]),t._v(" "),s("li",[t._v("è¿™ä¸ªçŸ©é˜µçš„æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ªå‘é‡ï¼Œä»£è¡¨ä¸€ä¸ªâ€œå‰ç¼€tokenâ€ã€‚è¿™äº›å‘é‡ä¸æ˜¯è‡ªç„¶è¯­è¨€è¯æ±‡çš„åµŒå…¥ï¼Œè€Œæ˜¯"),s("strong",[t._v("åœ¨æ¨¡å‹çš„éšè—ç©ºé—´ï¼ˆHidden Spaceï¼‰ä¸­é€šè¿‡è®­ç»ƒå­¦ä¹ å¾—åˆ°çš„â€œè½¯æç¤ºâ€ï¼ˆSoft Promptsï¼‰")]),t._v("ã€‚")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("æ‹¼æ¥ï¼ˆConcatenationï¼‰ä¸å‰å‘ä¼ æ’­ï¼ˆForward Passï¼‰")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("åœ¨æ¨¡å‹æ¯ä¸€å±‚çš„å‰å‘è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ åˆ°çš„å‰ç¼€å‘é‡ï¼ˆ"),s("code",[t._v("[PREFIX]")]),t._v("ï¼‰ä¸è¯¥å±‚åŸå§‹çš„è¾“å…¥åºåˆ—å‘é‡ï¼ˆ"),s("code",[t._v("[INPUT]")]),t._v("ï¼‰è¿›è¡Œæ‹¼æ¥ï¼Œå½¢æˆ "),s("code",[t._v("[PREFIX; INPUT]")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("ç„¶åï¼Œå°†è¿™ä¸ªæ‹¼æ¥åçš„åºåˆ—é€ç»™è¯¥å±‚çš„Transformeræ¨¡å—è¿›è¡Œå¤„ç†ã€‚")]),t._v(" "),s("li",[t._v("ç”±äºå‰ç¼€å‘é‡æ˜¯å¯è®­ç»ƒçš„ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œé€šè¿‡æ¢¯åº¦ä¸‹é™æ¥ä¼˜åŒ–è¿™äº›å‘é‡ï¼Œä½¿å¾—å®ƒä»¬èƒ½å¤Ÿæœ€æœ‰æ•ˆåœ°â€œåˆºæ¿€â€æˆ–â€œå¼•å¯¼â€å†»ç»“çš„æ¨¡å‹å»å®Œæˆç‰¹å®šä»»åŠ¡ã€‚")])])])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"ä¸‰ã€prefix-tuning-çš„ä¸»è¦ä¼˜åŠ¿"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€prefix-tuning-çš„ä¸»è¦ä¼˜åŠ¿"}},[t._v("#")]),t._v(" ä¸‰ã€Prefix-Tuning çš„ä¸»è¦ä¼˜åŠ¿")]),t._v(" "),s("p",[t._v("ç›¸æ¯”äºæ™®é€šçš„Prompt-Tuningå’Œå…¨é‡å¾®è°ƒï¼ŒPrefix-Tuningçš„ä¼˜åŠ¿éå¸¸çªå‡ºï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("æ›´å¼ºçš„è¡¨ç°åŠ›ä¸æ§åˆ¶åŠ›")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç”±äºå¼•å¯¼ä¿¡å·ï¼ˆå‰ç¼€ï¼‰è¢«æ³¨å…¥åˆ°äº†æ¨¡å‹çš„æ›´æ·±å±‚ï¼Œå®ƒèƒ½æ›´ç›´æ¥åœ°å½±å“æ¨¡å‹æ¯ä¸€å±‚çš„æ³¨æ„åŠ›æœºåˆ¶ï¼ˆAttentionï¼‰å’Œå‰é¦ˆç½‘ç»œï¼ˆFFNï¼‰çš„è®¡ç®—ï¼Œä»è€Œå¯¹æ¨¡å‹çš„è¡Œä¸ºå®ç°æ›´ç²¾ç»†ã€æ›´å¼ºå¤§çš„æ§åˆ¶ã€‚æ•ˆæœé€šå¸¸æ¯”åªåœ¨è¾“å…¥å±‚æ·»åŠ æç¤ºçš„Prompt-Tuningæ›´å¥½ã€‚")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("æé«˜çš„å‚æ•°æ•ˆç‡")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å’Œæ‰€æœ‰PEFTæ–¹æ³•ä¸€æ ·ï¼Œå®ƒåªè®­ç»ƒæå°éƒ¨åˆ†çš„å‚æ•°ï¼ˆä»…å æ¨¡å‹æ€»å‚æ•°çš„0.1%~3%ï¼‰ï¼Œæå¤§åœ°é™ä½äº†è®¡ç®—å’Œå­˜å‚¨æˆæœ¬ã€‚ä½ å¯ä»¥ä¸ºä¸€ä¸ªåŸºç¡€æ¨¡å‹è®­ç»ƒæ— æ•°ä¸ªä¸åŒçš„â€œå‰ç¼€â€ï¼Œæ¥åº”å¯¹ä¸åŒçš„ä»»åŠ¡ï¼Œéƒ¨ç½²æ—¶åªéœ€åˆ‡æ¢è¿™ä¸ªå°æ–‡ä»¶å³å¯ã€‚")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("ä¿ç•™é€šç”¨çŸ¥è¯†")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ä¸»æ¨¡å‹å‚æ•°è¢«å†»ç»“ï¼Œå…¶å¼ºå¤§çš„è¯­è¨€ç†è§£å’Œç”Ÿæˆèƒ½åŠ›å¾—ä»¥å®Œæ•´ä¿ç•™ï¼Œå®Œç¾é¿å…äº†ç¾éš¾æ€§é—å¿˜ã€‚")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("è®­ç»ƒæ›´ç¨³å®š")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç›¸è¾ƒäºæ—©æœŸç›´æ¥ä¼˜åŒ–åµŒå…¥å‘é‡çš„Prompt-Tuningï¼ŒPrefix-Tuningçš„æ•ˆæœé€šå¸¸æ›´ç¨³å®šã€‚åæ¥çš„ä¸€äº›æ”¹è¿›ï¼ˆå¦‚å°†å‰ç¼€å‘é‡é€šè¿‡ä¸€ä¸ªå°çš„ç¥ç»ç½‘ç»œæ¥ç”Ÿæˆï¼Œè€Œéç›´æ¥ä¼˜åŒ–ï¼‰è¿›ä¸€æ­¥æå‡äº†å…¶ç¨³å®šæ€§ã€‚")])])])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"å››ã€ä¸ç›¸å…³æŠ€æœ¯çš„å¯¹æ¯”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€ä¸ç›¸å…³æŠ€æœ¯çš„å¯¹æ¯”"}},[t._v("#")]),t._v(" å››ã€ä¸ç›¸å…³æŠ€æœ¯çš„å¯¹æ¯”")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("æŠ€æœ¯")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("è®­ç»ƒå‚æ•°")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("ä½œç”¨ä½ç½®")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("ç‰¹ç‚¹")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("Full Fine-tuningï¼ˆå…¨é‡å¾®è°ƒï¼‰")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("å…¨éƒ¨ï¼ˆ100%ï¼‰")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("æ¨¡å‹æ‰€æœ‰å‚æ•°")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("æ•ˆæœå¯èƒ½æœ€å¥½ï¼Œä½†æˆæœ¬æé«˜ï¼Œæ˜“é—å¿˜ï¼Œäº§ç”Ÿæ¨¡å‹å‰¯æœ¬ã€‚")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("Prompt-Tuning")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("æå°‘ï¼ˆ~0.01%ï¼‰")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("ä»…è¾“å…¥åµŒå…¥å±‚")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("æœ€ç®€å•ï¼Œå‚æ•°é‡æœ€å°‘ï¼Œä½†åœ¨æ¨¡å‹è¾ƒå°æ—¶æ•ˆæœä¸ä½³ã€‚")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("Prefix-Tuning")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("å°‘ï¼ˆ~0.1%-3%ï¼‰")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("æ¯ä¸€å±‚ï¼ˆæˆ–ä¸­é—´å±‚ï¼‰çš„æ¿€æ´»ä¹‹å‰")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("æ§åˆ¶åŠ›å¼ºï¼Œæ•ˆæœé€šå¸¸ä¼˜äºPrompt-Tuningï¼Œæ˜¯æ›´ä¼˜çš„é€‰æ‹©ã€‚")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("LoRA")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("å°‘ï¼ˆ~0.1%-3%ï¼‰")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("æ³¨å…¥åˆ°æ³¨æ„åŠ›å±‚çš„æ—è·¯çŸ©é˜µ")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("é€šè¿‡ä½ç§©é€‚åº”é—´æ¥æ›´æ–°æƒé‡ï¼Œæ•ˆæœä¸Prefix-Tuningç›¸å½“ï¼Œå¸¸æ˜¯é¦–é€‰ã€‚")])])])]),t._v(" "),s("h3",{attrs:{id:"æ€»ç»“-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“-3"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),s("p",[s("strong",[t._v("Prefix-Tuning çš„æ ¸å¿ƒè´¡çŒ®åœ¨äºï¼Œå®ƒè¯æ˜äº†ä¸éœ€è¦æ”¹åŠ¨åºå¤§çš„æ¨¡å‹å‚æ•°ï¼Œåªéœ€è¦åœ¨æ¨¡å‹çš„åˆé€‚æ·±åº¦ï¼ˆæ¯ä¸€å±‚ï¼‰æ’å…¥æå°‘é‡å¯å­¦ä¹ çš„â€œåˆºæ¿€ä¿¡å·â€ï¼Œå°±èƒ½é«˜æ•ˆåœ°å¼•å¯¼å¤§æ¨¡å‹å®Œæˆç‰¹å®šä»»åŠ¡ã€‚")])]),t._v(" "),s("p",[t._v("å®ƒæ˜¯é€šå‘æ›´é«˜æ•ˆã€æ›´æ¨¡å—åŒ–çš„å¤§æ¨¡å‹å®šåˆ¶ä¹‹è·¯ä¸Šçš„ä¸€ä¸ªå…³é”®é‡Œç¨‹ç¢‘ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¦‚ä»Šæˆ‘ä»¬æ›´å¸¸ä½¿ç”¨å…¶æ€æƒ³çš„åç»§è€…ï¼ˆå¦‚ "),s("strong",[t._v("P-Tuning v2")]),t._v("ï¼‰æˆ–å¦ä¸€ç§æµè¡ŒæŠ€æœ¯ "),s("strong",[t._v("LoRA")]),t._v("ï¼Œä½†å®ƒä»¬çš„åŸºæœ¬ç†å¿µä¸Prefix-Tuningä¸€è„‰ç›¸æ‰¿ï¼š"),s("strong",[t._v("ç”¨æœ€å°çš„ä»£ä»·ï¼Œå®ç°æœ€æœ‰æ•ˆçš„å¼•å¯¼ã€‚")])]),t._v(" "),s("p",[t._v("å¸Œæœ›è¿™ä¸ªè§£é‡Šèƒ½å¸®åŠ©æ‚¨é€å½»åœ°ç†è§£Prefix-Tuningï¼")]),t._v(" "),s("p",[t._v("ç›´æ¥é—® deepseek\nhttps://github.com/huggingface/peft/blob/main/examples/sft/run_peft.sh")]),t._v(" "),s("p",[t._v('è¿™ä¸ªæ–‡ä»¶æ€ä¹ˆè¿è¡Œï¼Œé‡Œé¢çš„  --model_name_or_path "mistralai/Mistral-7B-v0.1" '),s("br"),t._v('\n--dataset_name "smangrul/ultrachat-10k-chatml" \\')]),t._v(" "),s("p",[t._v("æ¨¡å‹  å’Œ  dataset   æ˜¯ä¸æ˜¯éƒ½è¦ä¸‹è½½åˆ°æœ¬åœ°")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("å›ç­”ï¼š")]),t._v(" "),s("p",[t._v("çœ‹äº†è¿™ä¸ªè„šæœ¬ï¼Œæˆ‘æ¥è¯¦ç»†è§£é‡Šä¸€ä¸‹è¿è¡Œæ–¹å¼ï¼š")]),t._v(" "),s("h2",{attrs:{id:"è¿è¡Œæ–¹å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿è¡Œæ–¹å¼"}},[t._v("#")]),t._v(" è¿è¡Œæ–¹å¼")]),t._v(" "),s("h3",{attrs:{id:"_1-ç›´æ¥è¿è¡Œ-æ¨èç½‘ç»œæ¡ä»¶å¥½çš„æƒ…å†µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç›´æ¥è¿è¡Œ-æ¨èç½‘ç»œæ¡ä»¶å¥½çš„æƒ…å†µ"}},[t._v("#")]),t._v(" 1. ç›´æ¥è¿è¡Œï¼ˆæ¨èç½‘ç»œæ¡ä»¶å¥½çš„æƒ…å†µï¼‰")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å…‹éš†ä»“åº“")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/huggingface/peft.git\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" peft/examples/sft\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç›´æ¥è¿è¡Œè„šæœ¬")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" run_peft.sh\n")])])]),s("h3",{attrs:{id:"_2-æ¨¡å‹å’Œæ•°æ®é›†ä¸‹è½½é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ¨¡å‹å’Œæ•°æ®é›†ä¸‹è½½é—®é¢˜"}},[t._v("#")]),t._v(" 2. æ¨¡å‹å’Œæ•°æ®é›†ä¸‹è½½é—®é¢˜")]),t._v(" "),s("p",[s("strong",[t._v("æ¨¡å‹ï¼ˆmistralai/Mistral-7B-v0.1ï¼‰")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("é»˜è®¤")]),t._v("ï¼šä¼šè‡ªåŠ¨ä»Hugging Face Hubä¸‹è½½ï¼ˆéœ€è¦çº¦15GBç©ºé—´ï¼‰")]),t._v(" "),s("li",[s("strong",[t._v("æœ¬åœ°å·²æœ‰")]),t._v("ï¼šå¦‚æœæœ¬åœ°æœ‰è¯¥æ¨¡å‹ï¼Œå¯ä»¥ä¿®æ”¹è·¯å¾„æŒ‡å‘æœ¬åœ°ç›®å½•")])]),t._v(" "),s("p",[s("strong",[t._v("æ•°æ®é›†ï¼ˆsmangrul/ultrachat-10k-chatmlï¼‰")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("é»˜è®¤")]),t._v("ï¼šä¼šè‡ªåŠ¨ä¸‹è½½ï¼ˆæ•°æ®é‡è¾ƒå°ï¼‰")]),t._v(" "),s("li",[s("strong",[t._v("æœ¬åœ°å·²æœ‰")]),t._v("ï¼šåŒæ ·å¯ä»¥ä¿®æ”¹è·¯å¾„")])]),t._v(" "),s("h2",{attrs:{id:"æœ¬åœ°ä¸‹è½½æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬åœ°ä¸‹è½½æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" æœ¬åœ°ä¸‹è½½æ–¹æ¡ˆ")]),t._v(" "),s("p",[t._v("å¦‚æœä½ å¸Œæœ›é¢„å…ˆä¸‹è½½åˆ°æœ¬åœ°ï¼š")]),t._v(" "),s("h3",{attrs:{id:"ä¸‹è½½æ¨¡å‹åˆ°æœ¬åœ°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‹è½½æ¨¡å‹åˆ°æœ¬åœ°"}},[t._v("#")]),t._v(" ä¸‹è½½æ¨¡å‹åˆ°æœ¬åœ°")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨huggingface-cli")]),t._v("\npip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" huggingface_hub\nhuggingface-cli download mistralai/Mistral-7B-v0.1 --local-dir ./mistral-7b-local\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æˆ–è€…ä½¿ç”¨Python")]),t._v("\nfrom transformers "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" AutoModel, AutoTokenizer\nmodel "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" AutoModel.from_pretrained"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mistralai/Mistral-7B-v0.1"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("cache_dir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./models"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntokenizer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" AutoTokenizer.from_pretrained"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mistralai/Mistral-7B-v0.1"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("cache_dir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./models"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"ä¿®æ”¹è„šæœ¬ä½¿ç”¨æœ¬åœ°è·¯å¾„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹è„šæœ¬ä½¿ç”¨æœ¬åœ°è·¯å¾„"}},[t._v("#")]),t._v(" ä¿®æ”¹è„šæœ¬ä½¿ç”¨æœ¬åœ°è·¯å¾„")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä¿®æ”¹run_peft.shä¸­çš„ç›¸å…³è¡Œ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--model_name_or_path")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./mistral-7b-local"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--dataset_name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./local-dataset"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n")])])]),s("h2",{attrs:{id:"æ³¨æ„äº‹é¡¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨æ„äº‹é¡¹"}},[t._v("#")]),t._v(" æ³¨æ„äº‹é¡¹")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("å­˜å‚¨ç©ºé—´")]),t._v("ï¼šMistral-7Bæ¨¡å‹éœ€è¦çº¦15GBç©ºé—´")]),t._v(" "),s("li",[s("strong",[t._v("ç½‘ç»œè¦æ±‚")]),t._v("ï¼šé¦–æ¬¡è¿è¡Œéœ€è¦ç¨³å®šç½‘ç»œè¿æ¥ä¸‹è½½èµ„æº")]),t._v(" "),s("li",[s("strong",[t._v("å†…å­˜è¦æ±‚")]),t._v("ï¼šéœ€è¦è¶³å¤ŸRAMæ¥åŠ è½½æ¨¡å‹ï¼ˆå»ºè®®16GB+ï¼‰")]),t._v(" "),s("li",[s("strong",[t._v("GPUè¦æ±‚")]),t._v("ï¼šè„šæœ¬é»˜è®¤ä½¿ç”¨GPUï¼Œå¦‚éœ€CPUè¿è¡Œéœ€è¦ä¿®æ”¹ç›¸å…³å‚æ•°")])]),t._v(" "),s("h2",{attrs:{id:"æ›¿ä»£æ–¹æ¡ˆ-å¦‚æœä¸‹è½½å›°éš¾"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ›¿ä»£æ–¹æ¡ˆ-å¦‚æœä¸‹è½½å›°éš¾"}},[t._v("#")]),t._v(" æ›¿ä»£æ–¹æ¡ˆï¼ˆå¦‚æœä¸‹è½½å›°éš¾ï¼‰")]),t._v(" "),s("p",[t._v("å¦‚æœä¸‹è½½å¤§æ¨¡å‹æœ‰å›°éš¾ï¼Œå¯ä»¥è€ƒè™‘ï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("ä½¿ç”¨å°æ¨¡å‹")]),t._v("ï¼šæ›¿æ¢ä¸ºè¾ƒå°çš„æ¨¡å‹å¦‚ï¼š")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--model_name_or_path")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"facebook/opt-1.3b"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("ä½¿ç”¨æœ¬åœ°å°æ•°æ®é›†")]),t._v("ï¼šå‡†å¤‡è‡ªå·±çš„æ•°æ®é›†æ ¼å¼")])])]),t._v(" "),s("p",[t._v("éœ€è¦æˆ‘å¸®ä½ ä¿®æ”¹è„šæœ¬é€‚é…æœ¬åœ°èµ„æºæˆ–æä¾›æ›´è¯¦ç»†çš„é…ç½®è¯´æ˜å—ï¼Ÿ")]),t._v(" "),s("h3",{attrs:{id:"langchain-ç»ƒä¹ "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#langchain-ç»ƒä¹ "}},[t._v("#")]),t._v(" langchain ç»ƒä¹ ")]),t._v(" "),s("p",[t._v("æˆ‘æ¥å¸®ä½ å°† Agently çš„æç¤ºè¯æ”¹é€ ä¸º Langchain çš„ PromptTemplate å†™æ³•ï¼š")]),t._v(" "),s("h2",{attrs:{id:"_1-å®Œæ•´çš„-langchain-prompt-å®ç°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-å®Œæ•´çš„-langchain-prompt-å®ç°"}},[t._v("#")]),t._v(" 1. å®Œæ•´çš„ Langchain Prompt å®ç°")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain_core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prompts "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ChatPromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" SystemMessagePromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HumanMessagePromptTemplate\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("schema "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" SystemMessage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HumanMessage\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ›å»ºç³»ç»Ÿæç¤ºè¯")]),t._v("\nsystem_template "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""ä½ æ˜¯ä¸€ä¸ªåˆ†æè¯ˆéª—æ¡ˆä¾‹å¹¶ä¸”æ“…é•¿å†™ä½œçš„ä¸“å®¶ï¼Œä½ çš„ä»»åŠ¡æ˜¯å°†è¯ˆéª—çš„æ¡ˆå‘è¿‡ç¨‹ä»¥å£è¯­å¯¹è¯çš„å½¢å¼å®Œæ•´çš„è¿˜åŸã€‚\n\nè¯·éµå¾ªä»¥ä¸‹è¦æ±‚ï¼š\n1. åˆ†æç”¨æˆ·æä¾›çš„æ–‡æœ¬ä¸­æè¿°çš„æ¡ˆå‘è¿‡ç¨‹ï¼Œè¯†åˆ«å‡ºè¯ˆéª—è€…å’Œå—å®³è€…è§’è‰²ï¼Œå¹¶ä¸ºæ¯ä¸ªè§’è‰²ç”Ÿæˆä¸€ä¸ªä¸­æ–‡å§“åã€‚\n2. å‘æŒ¥ä½ çš„æƒ³è±¡åŠ›ï¼ŒæŒ‰ç…§å‰åç»è¿‡ï¼Œå°†æ¡ˆå‘è¿‡ç¨‹ä»¥è¯ˆéª—è€…å’Œå—å®³è€…ä¹‹é—´çš„å¯¹è¯æ¥å¾ªåºæ¸è¿›åœ°å±•å¼€ï¼Œç›®çš„æ˜¯è¿˜åŸæ•´ä¸ªè¯ˆéª—æ¡ˆä»¶çš„è¯¦ç»†å¯¹è¯è¿‡ç¨‹ã€‚\n3. è¯ˆéª—è€…çš„å‘è¨€å†…å®¹éœ€è¦å°½å¯èƒ½çš„ä¼ªè£…ï¼Œè®©è‡ªå·±çš„èº«ä»½å’Œæ“ä½œéƒ½å¬èµ·æ¥æ­£è§„ï¼Œä»¥é¿å…å—å®³è€…æ€€ç–‘ã€‚\n4. ä»ç¬¬ä¸€å¥å‘è¨€å¼€å§‹ï¼Œä¾æ¬¡åˆ†ææ¯æ¡å‘è¨€å†…å®¹æ˜¯å¦å­˜åœ¨æ˜ç¡®çš„æ¬ºè¯ˆå†…å®¹ã€‚\n\nè¯·ä»¥ä»¥ä¸‹JSONæ ¼å¼è¾“å‡ºç»“æœï¼š\n{{\n    "result": [\n        {{\n            "speaker": "å‘è¨€äººçš„ä¸­æ–‡å§“å(ä¸å«è§’è‰²)",\n            "content": "å‘è¨€çš„è¯¦ç»†å†…å®¹", \n            "is_fraud": "trueæˆ–falseï¼Œè¡¨ç¤ºè¯¥å‘è¨€ä¸­æ˜¯å¦å­˜åœ¨æ˜ç¡®å…·ä½“ã€ä¸å¯è¾©é©³çš„æ¬ºè¯ˆå†…å®¹"\n        }}\n    ]\n}}\n"""')]),t._v("\n\nsystem_message_prompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" SystemMessagePromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("system_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ›å»ºç”¨æˆ·è¾“å…¥æ¨¡æ¿")]),t._v("\nhuman_template "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""è¯·åˆ†æä»¥ä¸‹è¯ˆéª—æ¡ˆä¾‹æ–‡æœ¬ï¼š\n\n{text}"""')]),t._v("\n\nhuman_message_prompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" HumanMessagePromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("human_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç»„åˆæˆå®Œæ•´çš„ ChatPromptTemplate")]),t._v("\nchat_prompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ChatPromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_messages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    system_message_prompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    human_message_prompt\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"_2-ä½¿ç”¨æ–¹å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä½¿ç”¨æ–¹å¼"}},[t._v("#")]),t._v(" 2. ä½¿ç”¨æ–¹å¼")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain_community"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chat_models "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ChatOpenAI\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" json\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆå§‹åŒ– DeepSeek æ¨¡å‹")]),t._v("\nllm "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ChatOpenAI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    model"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deepseek-chat"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    openai_api_key"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your_deepseek_api_key"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    openai_api_base"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://api.deepseek.com/v1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    temperature"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("analyze_fraud_case")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n    åˆ†æè¯ˆéª—æ¡ˆä¾‹å¹¶ç”Ÿæˆå¯¹è¯\n    """')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ„å»ºæç¤ºè¯")]),t._v("\n    messages "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" chat_prompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("format_messages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è°ƒç”¨æ¨¡å‹")]),t._v("\n    response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" llm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("invoke"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("messages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è§£æå“åº”")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("hasattr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¸…ç†å¯èƒ½çš„markdownæ ¼å¼")]),t._v("\n            content "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content\n            content "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("replace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'```json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("replace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'```'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loads"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("JSONDecodeError "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"JSONè§£æé”™è¯¯: ')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"åŸå§‹å“åº”: ')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨ç¤ºä¾‹")]),t._v("\ntext "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dataset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iloc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("column_content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nresult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" analyze_fraud_case"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dumps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ensure_ascii"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" indent"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"_3-æ›´ç®€æ´çš„ç‰ˆæœ¬-ä½¿ç”¨å­—ç¬¦ä¸²æ¨¡æ¿"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ›´ç®€æ´çš„ç‰ˆæœ¬-ä½¿ç”¨å­—ç¬¦ä¸²æ¨¡æ¿"}},[t._v("#")]),t._v(" 3. æ›´ç®€æ´çš„ç‰ˆæœ¬ï¼ˆä½¿ç”¨å­—ç¬¦ä¸²æ¨¡æ¿ï¼‰")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain_core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prompts "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" PromptTemplate\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ›å»ºå®Œæ•´çš„æç¤ºè¯æ¨¡æ¿")]),t._v("\nprompt_template "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    input_variables"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""ä½ æ˜¯ä¸€ä¸ªåˆ†æè¯ˆéª—æ¡ˆä¾‹å¹¶ä¸”æ“…é•¿å†™ä½œçš„ä¸“å®¶ï¼Œä½ çš„ä»»åŠ¡æ˜¯å°†è¯ˆéª—çš„æ¡ˆå‘è¿‡ç¨‹ä»¥å£è¯­å¯¹è¯çš„å½¢å¼å®Œæ•´çš„è¿˜åŸã€‚\n\nè¯·åˆ†æä»¥ä¸‹è¯ˆéª—æ¡ˆä¾‹æ–‡æœ¬ï¼š\n{text}\n\nè¦æ±‚ï¼š\n1. åˆ†ææ–‡æœ¬ä¸­æè¿°çš„æ¡ˆå‘è¿‡ç¨‹ï¼Œè¯†åˆ«å‡ºè¯ˆéª—è€…å’Œå—å®³è€…è§’è‰²ï¼Œå¹¶ä¸ºæ¯ä¸ªè§’è‰²ç”Ÿæˆä¸€ä¸ªä¸­æ–‡å§“åã€‚\n2. å‘æŒ¥ä½ çš„æƒ³è±¡åŠ›ï¼ŒæŒ‰ç…§å‰åç»è¿‡ï¼Œå°†æ¡ˆå‘è¿‡ç¨‹ä»¥è¯ˆéª—è€…å’Œå—å®³è€…ä¹‹é—´çš„å¯¹è¯æ¥å¾ªåºæ¸è¿›åœ°å±•å¼€ï¼Œç›®çš„æ˜¯è¿˜åŸæ•´ä¸ªè¯ˆéª—æ¡ˆä»¶çš„è¯¦ç»†å¯¹è¯è¿‡ç¨‹ã€‚\n3. è¯ˆéª—è€…çš„å‘è¨€å†…å®¹éœ€è¦å°½å¯èƒ½çš„ä¼ªè£…ï¼Œè®©è‡ªå·±çš„èº«ä»½å’Œæ“ä½œéƒ½å¬èµ·æ¥æ­£è§„ï¼Œä»¥é¿å…å—å®³è€…æ€€ç–‘ã€‚\n4. ä»ç¬¬ä¸€å¥å‘è¨€å¼€å§‹ï¼Œä¾æ¬¡åˆ†ææ¯æ¡å‘è¨€å†…å®¹æ˜¯å¦å­˜åœ¨æ˜ç¡®çš„æ¬ºè¯ˆå†…å®¹ã€‚\n\nè¯·ä»¥ä»¥ä¸‹JSONæ ¼å¼è¾“å‡ºç»“æœï¼š\n{{\n    "result": [\n        {{\n            "speaker": "å‘è¨€äººçš„ä¸­æ–‡å§“å(ä¸å«è§’è‰²)",\n            "content": "å‘è¨€çš„è¯¦ç»†å†…å®¹", \n            "is_fraud": "trueæˆ–falseï¼Œè¡¨ç¤ºè¯¥å‘è¨€ä¸­æ˜¯å¦å­˜åœ¨æ˜ç¡®å…·ä½“ã€ä¸å¯è¾©é©³çš„æ¬ºè¯ˆå†…å®¹"\n        }}\n    ]\n}}\n\nè¯·ç›´æ¥è¿”å›JSONæ ¼å¼çš„ç»“æœï¼Œä¸è¦æ·»åŠ å…¶ä»–è§£é‡Šã€‚"""')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨æ–¹å¼")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("analyze_fraud_case_simple")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    formatted_prompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" prompt_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" llm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("invoke"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("formatted_prompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("hasattr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            content "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content\n            content "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("replace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'```json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("replace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'```'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loads"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("JSONDecodeError"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"è§£æå¤±è´¥ï¼Œè¿”å›åŸå§‹å†…å®¹"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"raw_response"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n")])])]),s("h2",{attrs:{id:"_4-ä½¿ç”¨-lcel-é“¾å¼è°ƒç”¨-æ¨è"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-ä½¿ç”¨-lcel-é“¾å¼è°ƒç”¨-æ¨è"}},[t._v("#")]),t._v(" 4. ä½¿ç”¨ LCEL é“¾å¼è°ƒç”¨ï¼ˆæ¨èï¼‰")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain_core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("output_parsers "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" JsonOutputParser\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain_core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prompts "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ChatPromptTemplate\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ›å»ºè¾“å‡ºè§£æå™¨")]),t._v("\noutput_parser "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" JsonOutputParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ›å»ºæç¤ºè¯æ¨¡æ¿")]),t._v("\nprompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ChatPromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_messages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"system"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""ä½ æ˜¯ä¸€ä¸ªåˆ†æè¯ˆéª—æ¡ˆä¾‹å¹¶ä¸”æ“…é•¿å†™ä½œçš„ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯å°†è¯ˆéª—çš„æ¡ˆå‘è¿‡ç¨‹ä»¥å£è¯­å¯¹è¯çš„å½¢å¼å®Œæ•´çš„è¿˜åŸã€‚\n    \nè¦æ±‚ï¼š\n1. åˆ†ææ¡ˆå‘è¿‡ç¨‹ï¼Œè¯†åˆ«è¯ˆéª—è€…å’Œå—å®³è€…è§’è‰²ï¼Œä¸ºæ¯ä¸ªè§’è‰²ç”Ÿæˆä¸­æ–‡å§“å\n2. ä»¥å¯¹è¯å½¢å¼å¾ªåºæ¸è¿›å±•å¼€æ¡ˆå‘è¿‡ç¨‹\n3. è¯ˆéª—è€…å‘è¨€è¦ä¼ªè£…å¾—æ­£è§„å¯ä¿¡\n4. åˆ†ææ¯æ¡å‘è¨€æ˜¯å¦å­˜åœ¨æ˜ç¡®æ¬ºè¯ˆå†…å®¹"""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"human"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"è¯·åˆ†æä»¥ä¸‹è¯ˆéª—æ¡ˆä¾‹ï¼š{text}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"human"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"è¯·ä»¥æŒ‡å®šJSONæ ¼å¼è¾“å‡ºï¼š{format_instructions}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ„å»ºé“¾")]),t._v("\nchain "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" prompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" llm "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" output_parser\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨é“¾")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("analyze_fraud_with_chain")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" chain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("invoke"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"format_instructions"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" output_parser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_format_instructions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" Exception "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"åˆ†æå¤±è´¥: ')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨ç¤ºä¾‹")]),t._v("\ntext "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dataset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iloc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("column_content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nresult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" analyze_fraud_with_chain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"ä¸»è¦å˜åŒ–è¯´æ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»è¦å˜åŒ–è¯´æ˜"}},[t._v("#")]),t._v(" ä¸»è¦å˜åŒ–è¯´æ˜ï¼š")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("è§’è‰²å®šä¹‰")]),t._v("ï¼šä» "),s("code",[t._v(".role()")]),t._v(" æ”¹ä¸º SystemMessage")]),t._v(" "),s("li",[s("strong",[t._v("è¾“å…¥å¤„ç†")]),t._v("ï¼šä» "),s("code",[t._v(".input()")]),t._v(" æ”¹ä¸º HumanMessage ä¸­çš„å˜é‡æ›¿æ¢")]),t._v(" "),s("li",[s("strong",[t._v("æŒ‡ä»¤")]),t._v("ï¼šä» "),s("code",[t._v(".instruct()")]),t._v(" æ”¹ä¸ºæç¤ºè¯ä¸­çš„å…·ä½“è¦æ±‚åˆ—è¡¨")]),t._v(" "),s("li",[s("strong",[t._v("è¾“å‡ºæ ¼å¼")]),t._v("ï¼šä» "),s("code",[t._v(".output()")]),t._v(" æ”¹ä¸ºåœ¨æç¤ºè¯ä¸­æè¿°JSONæ ¼å¼")]),t._v(" "),s("li",[s("strong",[t._v("æ‰§è¡Œ")]),t._v("ï¼šä» "),s("code",[t._v(".start()")]),t._v(" æ”¹ä¸º "),s("code",[t._v(".invoke()")])])]),t._v(" "),s("p",[t._v("è¿™æ ·çš„æ”¹é€ ä¿æŒäº†åŸæœ‰çš„åŠŸèƒ½ï¼ŒåŒæ—¶ç¬¦åˆ Langchain çš„ç¼–ç¨‹èŒƒå¼ã€‚")]),t._v(" "),s("p",[t._v("ä½ é‡åˆ°çš„é—®é¢˜æ˜¯ Python å­—å…¸çš„é»˜è®¤æ˜¾ç¤ºæ–¹å¼ï¼Œä¸æ˜¯æ¨¡å‹ç”Ÿæˆçš„é—®é¢˜ã€‚è®©æˆ‘è§£é‡Šä¸€ä¸‹ï¼š")]),t._v(" "),s("h2",{attrs:{id:"é—®é¢˜åˆ†æ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜åˆ†æ"}},[t._v("#")]),t._v(" é—®é¢˜åˆ†æ")]),t._v(" "),s("p",[t._v("ä½ çœ‹åˆ°çš„å•å¼•å·å’Œé¦–å­—æ¯å¤§å†™çš„ True/False æ˜¯ "),s("strong",[t._v("Python å­—å…¸çš„é»˜è®¤è¡¨ç¤ºå½¢å¼")]),t._v("ï¼Œä¸æ˜¯æ¨¡å‹ç”Ÿæˆçš„ JSON æ ¼å¼é—®é¢˜ã€‚")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿™æ˜¯ Python å­—å…¸çš„æ˜¾ç¤ºæ–¹å¼ï¼ˆå•å¼•å·ï¼ŒTrue/False é¦–å­—æ¯å¤§å†™ï¼‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'result'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'speaker'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å¼ ä¼Ÿ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'...'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'is_fraud'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿™æ˜¯æ ‡å‡†çš„ JSON æ ¼å¼ï¼ˆåŒå¼•å·ï¼Œtrue/false å°å†™ï¼‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"result"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speaker"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å¼ ä¼Ÿ"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"..."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"is_fraud"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" true"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"éªŒè¯æ–¹æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#éªŒè¯æ–¹æ³•"}},[t._v("#")]),t._v(" éªŒè¯æ–¹æ³•")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ£€æŸ¥å®é™…çš„ JSON å†…å®¹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" json\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å‡è®¾ result æ˜¯ä½ å¾—åˆ°çš„å­—å…¸")]),t._v("\nresult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'result'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'speaker'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å¼ ä¼Ÿ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'...'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'is_fraud'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1. è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²æŸ¥çœ‹å®é™…æ ¼å¼")]),t._v("\njson_str "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dumps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ensure_ascii"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JSON å­—ç¬¦ä¸²æ ¼å¼:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("json_str"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# è¾“å‡º: {"result": [{"speaker": "å¼ ä¼Ÿ", "content": "...", "is_fraud": true}]}')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2. æ£€æŸ¥æ˜¯å¦å¯ä»¥æ­£å¸¸è§£æ")]),t._v("\nparsed "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loads"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("json_str"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"è§£æåçš„ç±»å‹:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parsed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'result'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'is_fraud'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"è§£å†³æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ¡ˆ")]),t._v(" "),s("h3",{attrs:{id:"æ–¹æ³•1-ç›´æ¥ä½¿ç”¨-json-å¤„ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ³•1-ç›´æ¥ä½¿ç”¨-json-å¤„ç†"}},[t._v("#")]),t._v(" æ–¹æ³•1ï¼šç›´æ¥ä½¿ç”¨ JSON å¤„ç†")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" json\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("analyze_fraud_case")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ... è°ƒç”¨æ¨¡å‹çš„ä»£ç  ...")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("hasattr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¸…ç†å“åº”å†…å®¹")]),t._v("\n        content "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        content "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("replace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'```json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("replace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'```'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç›´æ¥è§£æä¸º Python å¯¹è±¡")]),t._v("\n            result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loads"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("JSONDecodeError "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"JSONè§£æé”™è¯¯: ')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨æ—¶ï¼Œç»“æœå·²ç»æ˜¯æ­£ç¡®çš„ Python å­—å…¸")]),t._v("\nresult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" analyze_fraud_case"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"æ–¹æ³•2-å¢å¼ºæç¤ºè¯çº¦æŸ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ³•2-å¢å¼ºæç¤ºè¯çº¦æŸ"}},[t._v("#")]),t._v(" æ–¹æ³•2ï¼šå¢å¼ºæç¤ºè¯çº¦æŸ")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("system_template "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""ä½ æ˜¯ä¸€ä¸ªåˆ†æè¯ˆéª—æ¡ˆä¾‹å¹¶ä¸”æ“…é•¿å†™ä½œçš„ä¸“å®¶ã€‚ä»»åŠ¡ï¼šå°†è¯ˆéª—æ¡ˆå‘è¿‡ç¨‹ä»¥å£è¯­å¯¹è¯å½¢å¼è¿˜åŸã€‚\n\nè¦æ±‚ï¼š\n1. è¯†åˆ«è¯ˆéª—è€…å’Œå—å®³è€…è§’è‰²ï¼Œç”Ÿæˆä¸­æ–‡å§“å\n2. ä»¥å¯¹è¯å½¢å¼å±•å¼€æ¡ˆå‘è¿‡ç¨‹  \n3. è¯ˆéª—è€…å‘è¨€è¦ä¼ªè£…æ­£è§„\n4. åˆ†ææ¯æ¡å‘è¨€æ˜¯å¦å­˜åœ¨æ¬ºè¯ˆå†…å®¹\n\nä¸¥æ ¼çš„JSONæ ¼å¼è¦æ±‚ï¼š\n- å¿…é¡»ä½¿ç”¨åŒå¼•å·åŒ…å›´æ‰€æœ‰å­—ç¬¦ä¸²é”®å’Œå€¼\n- å¸ƒå°”å€¼å¿…é¡»ä½¿ç”¨å°å†™ true æˆ– false\n- ä¸è¦ä½¿ç”¨å•å¼•å·\n- ç¡®ä¿æ˜¯æœ‰æ•ˆçš„JSONæ ¼å¼\n\nè¾“å‡ºç¤ºä¾‹ï¼š\n{\n    "result": [\n        {\n            "speaker": "å¼ ä¸‰",\n            "content": "å¯¹è¯å†…å®¹",\n            "is_fraud": true\n        }\n    ]\n}\n\né‡è¦ï¼šç›´æ¥è¾“å‡ºçº¯å‡€JSONï¼Œä¸è¦ä»»ä½•å…¶ä»–æ–‡å­—ï¼"""')]),t._v("\n")])])]),s("h3",{attrs:{id:"æ–¹æ³•3-ä½¿ç”¨-langchain-çš„-json-è§£æå™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ³•3-ä½¿ç”¨-langchain-çš„-json-è§£æå™¨"}},[t._v("#")]),t._v(" æ–¹æ³•3ï¼šä½¿ç”¨ Langchain çš„ JSON è§£æå™¨")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain_core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("output_parsers "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" JsonOutputParser\n\noutput_parser "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" JsonOutputParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("analyze_fraud_case")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ„å»ºæç¤ºè¯")]),t._v("\n    messages "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"system"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ä½ æ˜¯è¯ˆéª—æ¡ˆä¾‹åˆ†æä¸“å®¶..."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"human"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"åˆ†ææ¡ˆä¾‹ï¼š')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"human"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"æ ¼å¼è¦æ±‚ï¼š')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("output_parser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_format_instructions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è°ƒç”¨æ¨¡å‹å¹¶è§£æ")]),t._v("\n    response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" llm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("invoke"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("messages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" output_parser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parse"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result\n")])])]),s("h2",{attrs:{id:"éªŒè¯ä»£ç æ­£ç¡®æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#éªŒè¯ä»£ç æ­£ç¡®æ€§"}},[t._v("#")]),t._v(" éªŒè¯ä»£ç æ­£ç¡®æ€§")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æµ‹è¯•ä½ çš„ç»“æœ")]),t._v("\ntest_result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'result'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'speaker'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å¼ ä¼Ÿ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'...'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'is_fraud'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1. æ£€æŸ¥æ˜¯å¦å¯ä»¥åºåˆ—åŒ–ä¸ºæ ‡å‡† JSON")]),t._v("\njson_str "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dumps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("test_result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ensure_ascii"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ ‡å‡†JSONæ ¼å¼:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" json_str"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2. æ£€æŸ¥æ˜¯å¦å¯ä»¥ä¿å­˜åˆ°æ–‡ä»¶å¹¶è¯»å–")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test_output.json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'w'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" encoding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dump"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("test_result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ensure_ascii"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" indent"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test_output.json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'r'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" encoding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    file_content "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ä»æ–‡ä»¶è¯»å–çš„å†…å®¹:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" file_content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("æ€»ç»“")]),t._v("ï¼šä½ çœ‹åˆ°çš„å•å¼•å·å’Œé¦–å­—æ¯å¤§å†™çš„ True/False åªæ˜¯ Python å­—å…¸çš„æ˜¾ç¤ºæ–¹å¼ï¼Œå®é™…åœ¨ JSON åºåˆ—åŒ–æ—¶ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºæ ‡å‡†çš„åŒå¼•å·å’Œå°å†™ true/falseã€‚ä½ çš„ä»£ç å¾ˆå¯èƒ½æ˜¯æ­£ç¡®çš„ï¼")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"_10-03"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-03"}},[t._v("#")]),t._v(" 10.03")]),t._v(" "),s("p",[t._v("å¾ˆå¥½ï¼ä½ çš„ "),s("code",[t._v("label2id")]),t._v(" æ˜ å°„æ˜¯æ­£ç¡®çš„ã€‚ç°åœ¨åŸºäºä½ å·²æœ‰çš„æ ‡ç­¾æ˜ å°„ï¼Œæˆ‘æ¥æä¾›ä¸€ä¸ªå®Œæ•´çš„ "),s("code",[t._v("collote_fn")]),t._v(" å®ç°ï¼š")]),t._v(" "),s("h2",{attrs:{id:"å®Œæ•´çš„-collote-fn-å‡½æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®Œæ•´çš„-collote-fn-å‡½æ•°"}},[t._v("#")]),t._v(" å®Œæ•´çš„ collote_fn å‡½æ•°")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("collote_fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("batch_samples"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    batch_sentence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" batch_char_labels "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä»batch samplesä¸­æå–å¥å­å¹¶ç”Ÿæˆå­—ç¬¦çº§æ ‡ç­¾")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" sample "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" batch_samples"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        sentence "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sentence'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        batch_sentence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sentence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç”Ÿæˆå­—ç¬¦çº§BIOæ ‡ç­¾åºåˆ—")]),t._v("\n        char_labels "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'O'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sentence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆå§‹åŒ–ä¸º'O'")]),t._v("\n        \n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ ¹æ®å®ä½“æ ‡æ³¨ä¿¡æ¯å¡«å……æ ‡ç­¾")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" label_type "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'labels'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" pos "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" pos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                    char_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v("f'B-")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("label_type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'")])]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                    char_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v("f'I-")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("label_type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'")])]),t._v("\n        \n        batch_char_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("char_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¯¹æ–‡æœ¬è¿›è¡Œåˆ†è¯")]),t._v("\n    batch_inputs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tokenizer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        batch_sentence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        padding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        truncation"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n        max_length"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        return_tensors"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pt"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        is_split_into_words"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é‡è¦ï¼šå‘Šè¯‰tokenizeræˆ‘ä»¬å¤„ç†çš„æ˜¯å­—ç¬¦çº§ä»»åŠ¡")]),t._v("\n        return_offsets_mapping"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è·å–å­—ç¬¦åˆ°tokençš„æ˜ å°„å…³ç³»")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¯¹é½æ ‡ç­¾ï¼šå°†å­—ç¬¦çº§æ ‡ç­¾æ˜ å°„åˆ°tokençº§æ ‡ç­¾")]),t._v("\n    aligned_labels "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("batch_sentence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        word_ids "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" batch_inputs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("word_ids"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("batch_index"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è·å–æ¯ä¸ªtokenå¯¹åº”çš„åŸå§‹å­—ç¬¦ä½ç½®")]),t._v("\n        char_labels "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" batch_char_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¯¥å¥å­çš„å­—ç¬¦çº§æ ‡ç­¾")]),t._v("\n        token_labels "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç”¨äºå­˜å‚¨tokençº§æ ‡ç­¾")]),t._v("\n        \n        previous_word_idx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" word_idx "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" word_ids"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¤„ç†ç‰¹æ®Štoken: [CLS], [SEP], [PAD]ç­‰ï¼Œæ ‡ç­¾è®¾ä¸º-100ï¼ˆPyTorchå¿½ç•¥çš„ç´¢å¼•ï¼‰")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" word_idx "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                token_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç›´æ¥ä½¿ç”¨å¯¹åº”å­—ç¬¦ä½ç½®çš„æ ‡ç­¾")]),t._v("\n                label "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" char_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("word_idx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n                token_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("label2id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("label"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            \n            previous_word_idx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" word_idx\n        \n        aligned_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("token_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å°†æ ‡ç­¾è½¬æ¢ä¸ºtensor")]),t._v("\n    batch_inputs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'labels'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("aligned_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("long")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç§»é™¤offsets_mappingï¼Œå› ä¸ºè®­ç»ƒæ—¶ä¸éœ€è¦")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'offset_mapping'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" batch_inputs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        batch_inputs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'offset_mapping'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" batch_inputs\n")])])]),s("h2",{attrs:{id:"å¦‚æœä½ æƒ³è¦åœ¨datasetä¸­é¢„å…ˆç”Ÿæˆchar-labels"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚æœä½ æƒ³è¦åœ¨datasetä¸­é¢„å…ˆç”Ÿæˆchar-labels"}},[t._v("#")]),t._v(" å¦‚æœä½ æƒ³è¦åœ¨Datasetä¸­é¢„å…ˆç”Ÿæˆchar_labels")]),t._v(" "),s("p",[t._v("è¿™æ ·å¯ä»¥æé«˜è®­ç»ƒæ—¶çš„æ•ˆç‡ï¼š")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NERDataset")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dataset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data_file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data_file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load_data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data_file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        Data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data_file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" encoding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            df "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" idx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" line "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("enumerate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" line"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("continue")]),t._v("\n                    \n                sentence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" labels "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n                items "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("item "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" item "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" line"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n                \n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é¦–å…ˆæ„å»ºå¥å­å’Œå®ä½“æ ‡æ³¨")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" item "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("enumerate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("items"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                    char"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    sentence "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" char\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" tag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startswith"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                        labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" char"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("elif")]),t._v(" tag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startswith"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'I'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("and")]),t._v(" labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                        labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i\n                        labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" char\n                \n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç”Ÿæˆå­—ç¬¦çº§æ ‡ç­¾åºåˆ—")]),t._v("\n                char_labels "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'O'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sentence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" label_type "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" pos "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" pos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                            char_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v("f'B-")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("label_type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'")])]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                            char_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v("f'I-")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("label_type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'")])]),t._v("\n                \n                Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("idx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sentence'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" sentence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'labels'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'char_labels'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" char_labels  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é¢„å…ˆç”Ÿæˆçš„å­—ç¬¦çº§æ ‡ç­¾")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v("f'æ•°æ®é›†ä¸­åŒ…å«çš„å®ä½“ç±»å‹æœ‰ï¼š")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("categories"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Data\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__len__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__getitem__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" idx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("idx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç®€åŒ–ç‰ˆçš„collote_fn")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("collote_fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("batch_samples"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    batch_sentence "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sentence'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" sample "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" batch_samples"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    batch_char_labels "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'char_labels'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" sample "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" batch_samples"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    \n    batch_inputs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tokenizer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        batch_sentence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        padding"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        truncation"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        max_length"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        return_tensors"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pt"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        is_split_into_words"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    aligned_labels "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" char_labels "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("enumerate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("batch_char_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        word_ids "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" batch_inputs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("word_ids"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("batch_index"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        token_labels "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" word_idx "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" word_ids"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" word_idx "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                token_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                token_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("label2id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("char_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("word_idx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n        aligned_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("token_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    batch_inputs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'labels'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("aligned_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("long")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" batch_inputs\n")])])]),s("h2",{attrs:{id:"å…³é”®ç‚¹è¯´æ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…³é”®ç‚¹è¯´æ˜"}},[t._v("#")]),t._v(" å…³é”®ç‚¹è¯´æ˜")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("æ ‡ç­¾å¯¹é½")]),t._v("ï¼šä½¿ç”¨ "),s("code",[t._v("word_ids()")]),t._v(" æ–¹æ³•è·å–æ¯ä¸ªtokenå¯¹åº”çš„åŸå§‹å­—ç¬¦ä½ç½®")]),t._v(" "),s("li",[s("strong",[t._v("ç‰¹æ®Štokenå¤„ç†")]),t._v("ï¼š"),s("code",[t._v("[CLS]")]),t._v(", "),s("code",[t._v("[SEP]")]),t._v(", "),s("code",[t._v("[PAD]")]),t._v(" çš„æ ‡ç­¾è®¾ä¸º "),s("code",[t._v("-100")]),t._v("ï¼Œè®­ç»ƒæ—¶ä¼šè¢«å¿½ç•¥")]),t._v(" "),s("li",[s("strong",[t._v("ä½ çš„label2idæ˜ å°„")]),t._v("ï¼šå®Œå…¨æ­£ç¡®ï¼ŒåŒ…å«äº†æ‰€æœ‰10ä¸ªå®ä½“ç±»å‹çš„BIOæ ‡ç­¾")]),t._v(" "),s("li",[s("strong",[t._v("å­—ç¬¦çº§åˆ°tokençº§æ˜ å°„")]),t._v("ï¼šç”±äºä¸­æ–‡BERTé€šå¸¸æ˜¯å­—ç¬¦çº§åˆ†è¯ï¼Œæ‰€ä»¥å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯1:1æ˜ å°„")])]),t._v(" "),s("p",[t._v("è¿™æ ·å®ç°åï¼Œä½ çš„æ¨¡å‹å°±èƒ½æ­£ç¡®å­¦ä¹ åˆ°ä¸­åŒ»æ–‡æœ¬ä¸­çš„å®ä½“è¯†åˆ«ä»»åŠ¡äº†ï¼")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("æ‚¨è§‚å¯Ÿå¾—å¾ˆä»”ç»†ï¼è¿™æ˜¯ä¸€ä¸ªéå¸¸å…¸å‹çš„ "),s("strong",[t._v("Python è§£åŒ…ï¼ˆUnpackingï¼‰")]),t._v(" ç”¨æ³•ï¼Œå®Œå…¨åˆæ³•ä¸”å¾ˆå¸¸ç”¨ã€‚è®©æˆ‘è¯¦ç»†è§£é‡Šï¼š")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ“¦-è§£åŒ…æœºåˆ¶è§£æ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“¦-è§£åŒ…æœºåˆ¶è§£æ"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ğŸ“¦ è§£åŒ…æœºåˆ¶è§£æ")])]),t._v(" "),s("h3",{attrs:{id:"æ•°æ®æºç»“æ„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®æºç»“æ„"}},[t._v("#")]),t._v(" "),s("strong",[t._v("æ•°æ®æºç»“æ„")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("labels "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å£è‹¦'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ä¸´åºŠè¡¨ç°'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¯ä¸ªå­åˆ—è¡¨æœ‰4ä¸ªå…ƒç´ ï¼š")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç´¢å¼•0: 3 â†’ start (èµ·å§‹ä½ç½®)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç´¢å¼•1: 4 â†’ end (ç»“æŸä½ç½®)  ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç´¢å¼•2: 'å£è‹¦' â†’ å®ä½“æ–‡æœ¬")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç´¢å¼•3: 'ä¸´åºŠè¡¨ç°' â†’ æ ‡ç­¾ç±»å‹")]),t._v("\n")])])]),s("h3",{attrs:{id:"å¾ªç¯ä¸­çš„è§£åŒ…è¿‡ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¾ªç¯ä¸­çš„è§£åŒ…è¿‡ç¨‹"}},[t._v("#")]),t._v(" "),s("strong",[t._v("å¾ªç¯ä¸­çš„è§£åŒ…è¿‡ç¨‹")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" label_type "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç­‰ä»·äºï¼š")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# temp = [3, 4, 'å£è‹¦', 'ä¸´åºŠè¡¨ç°']  # å–å‡ºç¬¬ä¸€ä¸ªå­åˆ—è¡¨")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# start = temp[0]   # 3")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# end = temp[1]     # 4  ")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# _ = temp[2]       # 'å£è‹¦' (ç”¨_è¡¨ç¤ºå¿½ç•¥è¿™ä¸ªå˜é‡)")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# label_type = temp[3]  # 'ä¸´åºŠè¡¨ç°'")]),t._v("\n")])])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ¯-å‚æ•°å¯¹åº”å…³ç³»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¯-å‚æ•°å¯¹åº”å…³ç³»"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ğŸ¯ å‚æ•°å¯¹åº”å…³ç³»")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("å¾ªç¯å˜é‡")]),t._v(" "),s("th",[t._v("å¯¹åº”æ•°æ®")]),t._v(" "),s("th",[t._v("ä½œç”¨")]),t._v(" "),s("th",[t._v("æ˜¯å¦å¿…éœ€")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("start")])]),t._v(" "),s("td",[s("code",[t._v("3")])]),t._v(" "),s("td",[t._v("å®ä½“èµ·å§‹ä½ç½®")]),t._v(" "),s("td",[t._v("âœ… å¿…éœ€")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("end")])]),t._v(" "),s("td",[s("code",[t._v("4")])]),t._v(" "),s("td",[t._v("å®ä½“ç»“æŸä½ç½®")]),t._v(" "),s("td",[t._v("âœ… å¿…éœ€")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("_")])]),t._v(" "),s("td",[s("code",[t._v("'å£è‹¦'")])]),t._v(" "),s("td",[s("strong",[t._v("å®ä½“æ–‡æœ¬")])]),t._v(" "),s("td",[t._v("âŒ ç”¨"),s("code",[t._v("_")]),t._v("å¿½ç•¥")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("label_type")])]),t._v(" "),s("td",[s("code",[t._v("'ä¸´åºŠè¡¨ç°'")])]),t._v(" "),s("td",[t._v("å®ä½“ç±»å‹")]),t._v(" "),s("td",[t._v("âœ… å¿…éœ€")])])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ”-ä»£ç æ‰§è¡Œè¿‡ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”-ä»£ç æ‰§è¡Œè¿‡ç¨‹"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ğŸ” ä»£ç æ‰§è¡Œè¿‡ç¨‹")])]),t._v(" "),s("h3",{attrs:{id:"æ­¥éª¤åˆ†è§£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤åˆ†è§£"}},[t._v("#")]),t._v(" "),s("strong",[t._v("æ­¥éª¤åˆ†è§£")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("sentence "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç°å¤´æ˜å£è‹¦'")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é•¿åº¦5ï¼Œç´¢å¼•: 0:ç°, 1:å¤´, 2:æ˜, 3:å£, 4:è‹¦")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆå§‹åŒ–: ['O', 'O', 'O', 'O', 'O']")]),t._v("\nchar_labels "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'O'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sentence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¾ªç¯å¼€å§‹:")]),t._v("\nstart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" label_type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å£è‹¦'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ä¸´åºŠè¡¨ç°'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" pos "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# range(3, 4+1) â†’ [3, 4]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" pos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¬¬ä¸€ä¸ªä½ç½® â†’ 'å£'")]),t._v("\n        char_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B-ä¸´åºŠè¡¨ç°'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pos == 4 â†’ 'è‹¦'  ")]),t._v("\n        char_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'I-ä¸´åºŠè¡¨ç°'")]),t._v("\n")])])]),s("h3",{attrs:{id:"æœ€ç»ˆç»“æœ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ€ç»ˆç»“æœ"}},[t._v("#")]),t._v(" "),s("strong",[t._v("æœ€ç»ˆç»“æœ")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("char_labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ['O', 'O', 'O', 'B-ä¸´åºŠè¡¨ç°', 'I-ä¸´åºŠè¡¨ç°']")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sentence"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  ç°    å¤´    æ˜    å£        è‹¦")]),t._v("\n")])])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ’¡-ä¸ºä»€ä¹ˆç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’¡-ä¸ºä»€ä¹ˆç”¨"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ğŸ’¡ ä¸ºä»€ä¹ˆç”¨ "),s("code",[t._v("_")]),t._v(" ï¼Ÿ")])]),t._v(" "),s("p",[s("code",[t._v("_")]),t._v(" æ˜¯ Python çº¦å®šä¿—æˆçš„ "),s("strong",[t._v('"å¿½ç•¥å˜é‡"')]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("è¿™ä¸ªä½ç½®çš„æ•°æ® ("),s("code",[t._v("'å£è‹¦'")]),t._v(") åœ¨åç»­ä»£ç ä¸­"),s("strong",[t._v("ä¸ä¼šä½¿ç”¨")])]),t._v(" "),s("li",[t._v("ç”¨ "),s("code",[t._v("_")]),t._v(' æ˜ç¡®å‘Šè¯‰é˜…è¯»è€…ï¼š"æˆ‘çŸ¥é“è¿™é‡Œæœ‰æ•°æ®ï¼Œä½†æ•…æ„ä¸ç”¨"')]),t._v(" "),s("li",[t._v("é¿å…åˆ›å»ºæ— ç”¨çš„å˜é‡åæ±¡æŸ“å‘½åç©ºé—´")])]),t._v(" "),s("h3",{attrs:{id:"å¦‚æœä¸ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚æœä¸ç”¨"}},[t._v("#")]),t._v(" "),s("strong",[t._v("å¦‚æœä¸ç”¨ "),s("code",[t._v("_")]),t._v("ï¼š")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ–¹å¼1ï¼šå…¨éƒ¨æ¥æ”¶ï¼ˆæµªè´¹ä¸€ä¸ªå˜é‡åï¼‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" entity_text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" label_type "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# entity_text æ ¹æœ¬ç”¨ä¸åˆ°ï¼Œä½†è¿˜å ç€å˜é‡å")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ–¹å¼2ï¼šç”¨_æ˜ç¡®å¿½ç•¥ï¼ˆæ¨èï¼‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" label_type "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¸…æ™°è¡¨è¾¾æ„å›¾")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ–¹å¼3ï¼šç´¢å¼•è®¿é—®ï¼ˆä¸ä¼˜é›…ï¼‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" item "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" labels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    label_type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸš€-è¿™ç§ç”¨æ³•çš„ä¼˜åŠ¿"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš€-è¿™ç§ç”¨æ³•çš„ä¼˜åŠ¿"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ğŸš€ è¿™ç§ç”¨æ³•çš„ä¼˜åŠ¿")])]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("ä»£ç ç®€æ´")]),t._v("ï¼šä¸€è¡Œå®Œæˆå¤šä¸ªå˜é‡èµ‹å€¼")]),t._v(" "),s("li",[s("strong",[t._v("æ„å›¾æ¸…æ™°")]),t._v("ï¼šç›´æ¥çœ‹å‡ºæ•°æ®ç»“æ„")]),t._v(" "),s("li",[s("strong",[t._v("ç±»å‹å®‰å…¨")]),t._v("ï¼šå¦‚æœæ•°æ®æ ¼å¼ä¸å¯¹ä¼šç«‹å³æŠ¥é”™")]),t._v(" "),s("li",[s("strong",[t._v("Pythonic")]),t._v("ï¼šç¬¦åˆ Python çš„ä¼˜é›…é£æ ¼")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ“š-ç±»ä¼¼çš„åº”ç”¨åœºæ™¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“š-ç±»ä¼¼çš„åº”ç”¨åœºæ™¯"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ğŸ“š ç±»ä¼¼çš„åº”ç”¨åœºæ™¯")])]),t._v(" "),s("h3",{attrs:{id:"éå†å­—å…¸çš„é”®å€¼å¯¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#éå†å­—å…¸çš„é”®å€¼å¯¹"}},[t._v("#")]),t._v(" "),s("strong",[t._v("éå†å­—å…¸çš„é”®å€¼å¯¹")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("person "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å¼ ä¸‰'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'age'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'city'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åŒ—äº¬'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" person"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("items"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(": ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"å‡½æ•°è¿”å›å¤šå€¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‡½æ•°è¿”å›å¤šå€¼"}},[t._v("#")]),t._v(" "),s("strong",[t._v("å‡½æ•°è¿”å›å¤šå€¼")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_coordinates")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿”å›å…ƒç»„")]),t._v("\n\nx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" z "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_coordinates"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç›´æ¥è§£åŒ…")]),t._v("\n")])])]),s("h3",{attrs:{id:"åµŒå¥—è§£åŒ…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åµŒå¥—è§£åŒ…"}},[t._v("#")]),t._v(" "),s("strong",[t._v("åµŒå¥—è§£åŒ…")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å¼ ä¸‰'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å·¥ç¨‹å¸ˆ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æå››'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åŒ»ç”Ÿ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" job"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-interpolation"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("ä»Šå¹´")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("å²ï¼ŒèŒä¸šæ˜¯")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("job"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("æ€»ç»“")]),t._v("ï¼šæ‚¨çœ‹åˆ°çš„ä»£ç æ˜¯æ ‡å‡†çš„ Python è§£åŒ…è¯­æ³•ï¼Œ"),s("code",[t._v("start, end, _, label_type")]),t._v(" åˆ†åˆ«å¯¹åº”åˆ—è¡¨ä¸­çš„å››ä¸ªå…ƒç´ ï¼Œç”¨ "),s("code",[t._v("_")]),t._v(" å¿½ç•¥ä¸éœ€è¦çš„å®ä½“æ–‡æœ¬æ•°æ®ã€‚è¿™æ˜¯å¤„ç†åºåˆ—æ ‡æ³¨ä»»åŠ¡æ—¶çš„å¸¸è§æ¨¡å¼ï¼")])])}),[],!1,null,null,null);s.default=e.exports}}]);