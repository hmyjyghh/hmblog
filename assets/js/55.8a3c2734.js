(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{538:function(t,a,s){"use strict";s.r(a);var n=s(3),r=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"rag"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rag"}},[t._v("#")]),t._v(" RAG")]),t._v(" "),a("ol",[a("li",[t._v("RAG(Retrieval Augmented Generation)-检索增强⽣成")])]),t._v(" "),a("blockquote",[a("p",[t._v("将⼤模型应⽤于实际业务场景时会发现，通⽤的基础⼤模型基本⽆法满⾜我们的实际业务需求，主要有以下⼏⽅⾯原因")])]),t._v(" "),a("ul",[a("li",[t._v("LLM的知识不是实时的，不具备知识更新")]),t._v(" "),a("li",[t._v("LLM可能不知道你私有的领域/业务知识")]),t._v(" "),a("li",[t._v("LLM有时会在回答中⽣成看似合理但实际上是错误的信息")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("为什么会⽤到RAG?")])]),t._v(" "),a("p",[t._v("1、提⾼准确性: 通过检索相关的信息，RAG可以提⾼⽣成⽂本的准确性。\n2、减少训练成本：与需要⼤量数据来训练的⼤型⽣成模型相⽐，RAG可以通过检\n索机制来减少所需的训练数据量，从⽽降低训练成本。\n3、适应性强：RAG模型可以适应新的或不断变化的数据。由于它们能够检索最新\n的信息，因此在新数据和事件出现时，它们能够快速适应并⽣成相关的⽂本。")]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("RAG VS Fine-tuning")])]),t._v(" "),a("ul",[a("li",[t._v("RAG（检索增强⽣成）是把内部的⽂档数据先进⾏embedding，借助检索先获得⼤致的知识范围答案，再结合prompt给到LLM，让LLM⽣成最终的答案")]),t._v(" "),a("li",[t._v("Fine-tuning（微调）是⽤⼀定量的数据集对LLM进⾏局部参数的调整，以期望")]),t._v(" "),a("li",[t._v("LLM更加理解我们的业务逻辑，有更好的zero-shot能⼒。")])]),t._v(" "),a("blockquote",[a("p",[t._v("RAG 与 Fine-tuning 对比")])]),t._v(" "),a("ul",[a("li",[t._v("RAG的优势在于它不需要⼤量的训练数据，只需要⼀定量的⽂档数据即可。这使得RAG模型更加轻量级，成本更低。")]),t._v(" "),a("li",[t._v("Fine-tuning的优势在于它可以使模型在特定任务上表现更好，因为它是在预训练模型的基础上进行的。")]),t._v(" "),a("li",[t._v("RAG的劣势在于它依赖于外部的检索机制，检索机制的质量直接影响到最终的答案质量。")]),t._v(" "),a("li",[t._v("Fine-tuning的劣势在于它需要⼤量的训练数据，训练数据的质量直接影响到模型的性能。")])]),t._v(" "),a("h2",{attrs:{id:"langchain-框架"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#langchain-框架"}},[t._v("#")]),t._v(" LangChain 框架")]),t._v(" "),a("h3",{attrs:{id:"核心组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#核心组件"}},[t._v("#")]),t._v(" 核心组件")]),t._v(" "),a("p",[t._v("LangChain之Model I/O\n"),a("strong",[t._v("可以把对模型的使用过程拆解成三块: 输入提示(Format)、调用模型(Predict)、输出解析(Parse)")])]),t._v(" "),a("p",[t._v("1.提示模板: LangChain的模板允许动态选择输入，根据实际需求调整输入内容，适用于各种特定任务和应用。\n2.语言模型: LangChain 提供通用接口调用不同类型的语言模型，提升了灵活性和使用便利性。\n3.输出解析: 利用 LangChain 的输出解析功能，精准提取模型输出中所需信息，避免处理冗余数据，同时将非结构化文本转换为可处理的结构化数据，提高信息处理效率。")]),t._v(" "),a("ol",[a("li",[t._v("Chain， 链中，输出解析器： "),a("code",[t._v("StrOutputParser()")]),t._v(" "),a("code",[t._v("JsonOutputParser()")])]),t._v(" "),a("li",[t._v("PromptTemplates ---\x3e>> ChatPromptTemplate")]),t._v(" "),a("li"),t._v(" "),a("li")]),t._v(" "),a("p",[t._v("Chain 链")]),t._v(" "),a("blockquote",[a("p",[t._v("LangSmith\n"),a("strong",[t._v("LangSmith 是 LangChain 生态中一个极其重要的工具")]),t._v("，它提供了一个平台，用于开发、测试、监控和部署基于 LangChain 的应用程序。")])]),t._v(" "),a("p",[t._v("下面我将为您全面介绍 LangSmith：它是什么、为什么需要它、如何安装使用以及最佳实践。")]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"一、langsmith-是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、langsmith-是什么"}},[t._v("#")]),t._v(" 一、LangSmith 是什么？")]),t._v(" "),a("p",[a("strong",[t._v("LangSmith 是一个统一的开发、调试、测试、监控和评估 LLM 应用的平台。")]),t._v(" 你可以把它想象成 LangChain 应用的 "),a("strong",[t._v("“操作系统”")]),t._v(" 或 "),a("strong",[t._v("“控制中心”")]),t._v("。")]),t._v(" "),a("p",[t._v("它不是 LangChain 框架里的一个 Python 库，而是一个由 LangChain Inc. 提供的云端 SaaS 平台（也提供本地部署方案）。它的核心功能是"),a("strong",[t._v("追踪（Tracing）")]),t._v(" 你的 LLM 应用执行过程，并提供可视化界面。")]),t._v(" "),a("h3",{attrs:{id:"二、为什么需要-langsmith-解决了什么痛点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、为什么需要-langsmith-解决了什么痛点"}},[t._v("#")]),t._v(" 二、为什么需要 LangSmith？解决了什么痛点？")]),t._v(" "),a("p",[t._v("在没有 LangSmith 之前，开发 LLM 应用像是在一个“黑盒”中调试：")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("调试困难：")]),t._v(" 链（Chain）或代理（Agent）的调用流程复杂，出错时很难定位是哪个环节（LLM 调用、工具执行、提示词问题）出了问题。")]),t._v(" "),a("li",[a("strong",[t._v("提示词迭代低效：")]),t._v(" 修改提示词后，需要重新运行整个流程才能看到效果，没有 A/B 测试和版本对比。")]),t._v(" "),a("li",[a("strong",[t._v("评估缺失：")]),t._v(" 如何知道新版本的 Chain 比旧版本更好？缺乏客观的、自动化的评估手段。")]),t._v(" "),a("li",[a("strong",[t._v("监控空白：")]),t._v(" 生产环境中的应用表现如何？哪些调用失败了？延迟和成本是多少？缺乏监控面板。")])]),t._v(" "),a("p",[a("strong",[t._v("LangSmith 完美地解决了以上所有问题。")])]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"三、核心功能与使用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、核心功能与使用场景"}},[t._v("#")]),t._v(" 三、核心功能与使用场景")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("功能")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("使用场景")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("** tracing (追踪)**")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("自动记录每次 Chain、Agent、LLM、Tool 的调用详情，包括输入、输出、延迟、token 用量、成本等。")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("调试开发：")]),t._v(" 逐步查看应用执行流程，精准定位错误和性能瓶颈。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("调试与比较")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("将不同版本的提示词、模型或链的输入输出并排对比。")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("提示词工程：")]),t._v(" 快速迭代和测试不同提示词的效果，选择最佳版本。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("测试与评估")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("使用数据集（Dataset）批量运行你的链，并利用 LLM 作为评判员（Judge）进行自动评估。")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("版本控制：")]),t._v(" 在部署新模型或链之前，确保其性能优于旧版本。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("监控与报警")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("监控生产环境应用的性能、错误率、延迟等指标，并设置报警。")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("生产运维：")]),t._v(" 实时了解应用健康状态，及时发现和处理问题。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("协作")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("团队共享追踪记录、数据集和项目，共同迭代应用。")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("团队开发：")]),t._v(" 方便团队成员审查流程、共享知识。")])])])]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"四、安装与快速上手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、安装与快速上手"}},[t._v("#")]),t._v(" 四、安装与快速上手")]),t._v(" "),a("h4",{attrs:{id:"_3-基本使用-自动追踪"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-基本使用-自动追踪"}},[t._v("#")]),t._v(" 3. 基本使用：自动追踪")]),t._v(" "),a("p",[a("strong",[t._v("最简单的方式：什么都不用做！")]),t._v(" 一旦设置了环境变量，LangChain 的大部分组件（LLMs, Chains, Agents, Tools）都会"),a("strong",[t._v("自动")]),t._v("将执行记录发送到 LangSmith。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" os\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("llms "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" OpenAI\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("agents "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" load_tools"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" initialize_agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" AgentType\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置环境变量（如果在脚本内设置）")]),t._v("\nos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("environ"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LANGCHAIN_TRACING_V2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),t._v("\nos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("environ"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LANGCHAIN_API_KEY"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lsv2_pt_..."')]),t._v("\nos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("environ"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"OPENAI_API_KEY"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sk-..."')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 你的 OpenAI KEY")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 正常构建你的应用")]),t._v("\nllm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" OpenAI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntools "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" load_tools"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"serpapi"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"llm-math"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" llm"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("llm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nagent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" initialize_agent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tools"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" llm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" agent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("AgentType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ZERO_SHOT_REACT_DESCRIPTION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" verbose"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 运行 agent，执行过程会自动被 LangSmith 记录")]),t._v("\nagent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"奥尼尔在哪支球队赢得了他的第一个NBA总冠军？"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("现在，运行这个脚本，然后刷新你的 LangSmith 主页，你就能看到这次运行的完整记录。")]),t._v(" "),a("blockquote",[a("p",[t._v("高级使用")])]),t._v(" "),a("h4",{attrs:{id:"_4-高级使用-自定义追踪和评估"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-高级使用-自定义追踪和评估"}},[t._v("#")]),t._v(" 4. 高级使用：自定义追踪和评估")]),t._v(" "),a("p",[t._v("你可以使用 "),a("code",[t._v("langsmith")]),t._v(" 库的客户端进行更精细的操作，比如创建数据集和运行评估。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langsmith "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Client\n\nclient "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1. 创建数据集")]),t._v("\ndataset_name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Math Questions"')]),t._v("\ndataset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("create_dataset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dataset_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nclient"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("create_examples"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    inputs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"question"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"What is 2 + 2?"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"question"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"What is 5 * 3?"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    outputs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"answer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"answer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"15"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    dataset_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dataset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2. 定义一个简单的链（或使用你已有的链）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("my_chain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input_text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ... 你的链逻辑 ...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 3. 在数据集上评估这个链")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langsmith"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("evaluation "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" evaluate\n\nevaluate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    my_chain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dataset_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    evaluators"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 可以定义或使用内置的评估器")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 例如：检查输出是否与预期答案匹配")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"五、部署与生产环境考虑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、部署与生产环境考虑"}},[t._v("#")]),t._v(" 五、部署与生产环境考虑")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("网络与延迟：")]),t._v(" LangSmith 是云端服务，你的应用需要能访问外网。追踪调用是"),a("strong",[t._v("异步非阻塞")]),t._v("的，不会影响主应用的性能，但需要考虑网络抖动。")]),t._v(" "),a("li",[a("strong",[t._v("数据隐私：")]),t._v(" 如果你的数据极其敏感，需要询问 LangSmith 的合规性，或者等待/寻求"),a("strong",[t._v("本地部署（On-Premise）")]),t._v(" 方案。他们已面向企业提供此服务。")]),t._v(" "),a("li",[a("strong",[t._v("成本：")]),t._v(" LangSmith 有免费额度，超出后按调用次数收费。需要评估成本效益。")]),t._v(" "),a("li",[a("strong",[t._v("监控报警设置：")]),t._v(" 在生产环境中，务必在 LangSmith 项目中设置监控和报警规则（如错误率 > 1% 时发送邮件/Slack 通知）。")])]),t._v(" "),a("h3",{attrs:{id:"总结-作为工程师-你应如何看待-langsmith"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结-作为工程师-你应如何看待-langsmith"}},[t._v("#")]),t._v(" 总结：作为工程师，你应如何看待 LangSmith？")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("开发阶段：")]),t._v(" 它是你的 "),a("strong",[t._v("“超级调试器”")]),t._v("。抛弃 "),a("code",[t._v("verbose=True")]),t._v(" 那种简陋的输出，拥抱可视化的、可回溯的调试体验。")]),t._v(" "),a("li",[a("strong",[t._v("测试阶段：")]),t._v(" 它是你的 "),a("strong",[t._v("“评估框架”")]),t._v("。用它来科学地、数据驱动地验证你的应用变更是否有效。")]),t._v(" "),a("li",[a("strong",[t._v("生产阶段：")]),t._v(" 它是你的 "),a("strong",[t._v("“监控仪表盘”")]),t._v("。实时洞察应用性能、成本和异常。")])]),t._v(" "),a("p",[a("strong",[t._v("强烈建议")]),t._v("：从现在开始，在你所有的 LangChain 项目中，从一开始就集成 LangSmith。它会极大地提升你的开发效率和应用的可靠性。")]),t._v(" "),a("blockquote",[a("p",[t._v("LangSmith")])]),t._v(" "),a("p",[t._v("LangSmith 是一个功能极其强大的可视化平台，作为高级开发工程师，掌握它能极大提升您的 LLM 应用开发效率。让我为您全面解析它的功能和快速掌握方法。")]),t._v(" "),a("h2",{attrs:{id:"langsmith-核心功能全景图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#langsmith-核心功能全景图"}},[t._v("#")]),t._v(" LangSmith 核心功能全景图")]),t._v(" "),a("h3",{attrs:{id:"_1-tracing-debugging-追踪与调试-最核心功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-tracing-debugging-追踪与调试-最核心功能"}},[t._v("#")]),t._v(" 1. "),a("strong",[t._v("Tracing & Debugging（追踪与调试）")]),t._v(" - "),a("strong",[t._v("最核心功能")])]),t._v(" "),a("p",[a("strong",[t._v("作用")]),t._v("：自动记录LLM应用的每一次调用细节，形成可视化的执行链。")]),t._v(" "),a("p",[a("strong",[t._v("功能细节")]),t._v("：")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("全链路追踪")]),t._v("：记录每个组件的输入/输出（LLM调用、工具执行、提示词渲染）")]),t._v(" "),a("li",[a("strong",[t._v("时间线视图")]),t._v("：显示每个步骤的耗时，快速定位性能瓶颈")]),t._v(" "),a("li",[a("strong",[t._v("详细元数据")]),t._v("：查看token用量、成本、模型参数等")]),t._v(" "),a("li",[a("strong",[t._v("比较运行")]),t._v("：并排对比不同配置的执行结果")])]),t._v(" "),a("h3",{attrs:{id:"_2-testing-evaluation-测试与评估"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-testing-evaluation-测试与评估"}},[t._v("#")]),t._v(" 2. "),a("strong",[t._v("Testing & Evaluation（测试与评估）")])]),t._v(" "),a("p",[a("strong",[t._v("作用")]),t._v("：系统化地测试和评估您的应用表现。")]),t._v(" "),a("p",[a("strong",[t._v("功能细节")]),t._v("：")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("数据集管理")]),t._v("：创建和管理测试用例集合")]),t._v(" "),a("li",[a("strong",[t._v("批量测试")]),t._v("：在多个输入上运行您的链/代理")]),t._v(" "),a("li",[a("strong",[t._v("自动评估")]),t._v("：使用LLM作为评判员或自定义评估函数")]),t._v(" "),a("li",[a("strong",[t._v("指标分析")]),t._v("：准确率、延迟、成本等关键指标可视化")])]),t._v(" "),a("h3",{attrs:{id:"_3-monitoring-alerting-监控与告警"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-monitoring-alerting-监控与告警"}},[t._v("#")]),t._v(" 3. "),a("strong",[t._v("Monitoring & Alerting（监控与告警）")])]),t._v(" "),a("p",[a("strong",[t._v("作用")]),t._v("：监控生产环境应用的性能和健康状况。")]),t._v(" "),a("p",[a("strong",[t._v("功能细节")]),t._v("：")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("实时仪表盘")]),t._v("：监控错误率、延迟、吞吐量等")]),t._v(" "),a("li",[a("strong",[t._v("自定义告警")]),t._v("：设置阈值，自动发送通知（邮件、Slack等）")]),t._v(" "),a("li",[a("strong",[t._v("生产分析")]),t._v("：识别性能退化和异常模式")]),t._v(" "),a("li",[a("strong",[t._v("使用量统计")]),t._v("：跟踪API调用次数和成本")])]),t._v(" "),a("h3",{attrs:{id:"_4-prompt-management-提示词管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-prompt-management-提示词管理"}},[t._v("#")]),t._v(" 4. "),a("strong",[t._v("Prompt Management（提示词管理）")])]),t._v(" "),a("p",[a("strong",[t._v("作用")]),t._v("：优化和管理提示词版本。")]),t._v(" "),a("p",[a("strong",[t._v("功能细节")]),t._v("：")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("版本对比")]),t._v("：A/B测试不同提示词的效果")]),t._v(" "),a("li",[a("strong",[t._v("提示词注册")]),t._v("：将优秀提示词保存为可复用模板")]),t._v(" "),a("li",[a("strong",[t._v("协作分享")]),t._v("：团队共享和评审提示词")])]),t._v(" "),a("h3",{attrs:{id:"_5-collaboration-organization-协作与组织"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-collaboration-organization-协作与组织"}},[t._v("#")]),t._v(" 5. "),a("strong",[t._v("Collaboration & Organization（协作与组织）")])]),t._v(" "),a("p",[a("strong",[t._v("作用")]),t._v("：支持团队开发和知识共享。")]),t._v(" "),a("p",[a("strong",[t._v("功能细节")]),t._v("：")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("项目管理")]),t._v("：按项目组织追踪记录和数据集")]),t._v(" "),a("li",[a("strong",[t._v("团队管理")]),t._v("：成员权限和访问控制")]),t._v(" "),a("li",[a("strong",[t._v("知识共享")]),t._v("：共享成功的提示词和配置")])]),t._v(" "),a("h2",{attrs:{id:"快速掌握-langsmith-的实践路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速掌握-langsmith-的实践路径"}},[t._v("#")]),t._v(" 快速掌握 LangSmith 的实践路径")]),t._v(" "),a("h3",{attrs:{id:"🚀-第一周-基础掌握-每天15-30分钟"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🚀-第一周-基础掌握-每天15-30分钟"}},[t._v("#")]),t._v(" 🚀 "),a("strong",[t._v("第一周：基础掌握（每天15-30分钟）")])]),t._v(" "),a("h4",{attrs:{id:"day-1-2-环境设置与初体验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#day-1-2-环境设置与初体验"}},[t._v("#")]),t._v(" "),a("strong",[t._v("Day 1-2：环境设置与初体验")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装")]),t._v("\npip "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" langsmith\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 环境变量配置")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("LANGCHAIN_TRACING_V2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("LANGCHAIN_API_KEY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("lsv2_pt_your_api_key_here\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("LANGCHAIN_PROJECT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("my-first-project\n")])])]),a("p",[a("strong",[t._v("实践任务")]),t._v("：")]),t._v(" "),a("ol",[a("li",[t._v("运行一个简单的LangChain应用")]),t._v(" "),a("li",[t._v("登录 LangSmith 查看自动生成的trace")]),t._v(" "),a("li",[t._v("点击查看每个组件的详细输入输出")])]),t._v(" "),a("h4",{attrs:{id:"day-3-4-调试探索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#day-3-4-调试探索"}},[t._v("#")]),t._v(" "),a("strong",[t._v("Day 3-4：调试探索")])]),t._v(" "),a("p",[a("strong",[t._v("实践任务")]),t._v("：")]),t._v(" "),a("ol",[a("li",[t._v("故意在代码中制造一个错误，观察LangSmith如何显示错误信息")]),t._v(" "),a("li",[t._v("使用不同的LLM参数（temperature等），比较执行结果")]),t._v(" "),a("li",[t._v("练习使用筛选功能查找特定的运行记录")])]),t._v(" "),a("h3",{attrs:{id:"🚀-第二周-中级功能实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🚀-第二周-中级功能实践"}},[t._v("#")]),t._v(" 🚀 "),a("strong",[t._v("第二周：中级功能实践")])]),t._v(" "),a("h4",{attrs:{id:"day-5-6-提示词优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#day-5-6-提示词优化"}},[t._v("#")]),t._v(" "),a("strong",[t._v("Day 5-6：提示词优化")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建两个版本的提示词进行对比")]),t._v("\nprompt_v1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Answer the question: {question}"')]),t._v("\nprompt_v2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""You are an expert assistant. Please provide a detailed answer to: {question}\n\nAnswer:"""')]),t._v("\n")])])]),a("p",[a("strong",[t._v("实践任务")]),t._v("：")]),t._v(" "),a("ol",[a("li",[t._v("运行两个不同提示词的版本")]),t._v(" "),a("li",[t._v('在LangSmith中使用"Compare Runs"功能')]),t._v(" "),a("li",[t._v("分析哪个提示词效果更好")])]),t._v(" "),a("h4",{attrs:{id:"day-7-8-数据集与评估"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#day-7-8-数据集与评估"}},[t._v("#")]),t._v(" "),a("strong",[t._v("Day 7-8：数据集与评估")])]),t._v(" "),a("p",[a("strong",[t._v("实践任务")]),t._v("：")]),t._v(" "),a("ol",[a("li",[t._v("创建包含5-10个测试问题的小数据集")]),t._v(" "),a("li",[t._v("批量运行您的应用")]),t._v(" "),a("li",[t._v("添加简单的自动评估（如：答案是否包含关键词）")])]),t._v(" "),a("h3",{attrs:{id:"🚀-第三周-高级功能实战"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🚀-第三周-高级功能实战"}},[t._v("#")]),t._v(" 🚀 "),a("strong",[t._v("第三周：高级功能实战")])]),t._v(" "),a("h4",{attrs:{id:"day-9-10-监控配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#day-9-10-监控配置"}},[t._v("#")]),t._v(" "),a("strong",[t._v("Day 9-10：监控配置")])]),t._v(" "),a("p",[a("strong",[t._v("实践任务")]),t._v("：")]),t._v(" "),a("ol",[a("li",[t._v("设置一个监控仪表盘")]),t._v(" "),a("li",[t._v("配置当错误率 > 5% 时发送邮件告警")]),t._v(" "),a("li",[t._v("分析生产环境的性能指标")])]),t._v(" "),a("h4",{attrs:{id:"day-11-12-团队协作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#day-11-12-团队协作"}},[t._v("#")]),t._v(" "),a("strong",[t._v("Day 11-12：团队协作")])]),t._v(" "),a("p",[a("strong",[t._v("实践任务")]),t._v("：")]),t._v(" "),a("ol",[a("li",[t._v("创建一个团队项目")]),t._v(" "),a("li",[t._v("邀请同事（或另一个账号）协作")]),t._v(" "),a("li",[t._v("评审和评论对方的提示词设计")])]),t._v(" "),a("h2",{attrs:{id:"实用技巧和最佳实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实用技巧和最佳实践"}},[t._v("#")]),t._v(" 实用技巧和最佳实践")]),t._v(" "),a("h3",{attrs:{id:"_1-高效调试技巧"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-高效调试技巧"}},[t._v("#")]),t._v(" 1. "),a("strong",[t._v("高效调试技巧")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 添加自定义 metadata 便于筛选")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("callbacks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("manager "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" tracing_v2_enabled\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" tracing_v2_enabled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    project_name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-project"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    tags"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"experiment"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    metadata"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user_id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" chain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("invoke"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your question"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"_2-快速筛选和搜索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-快速筛选和搜索"}},[t._v("#")]),t._v(" 2. "),a("strong",[t._v("快速筛选和搜索")])]),t._v(" "),a("ul",[a("li",[t._v("使用 "),a("code",[t._v("tags:")]),t._v(" 筛选特定标签的运行")]),t._v(" "),a("li",[t._v("使用 "),a("code",[t._v("metadata.key:value")]),t._v(" 搜索自定义元数据")]),t._v(" "),a("li",[t._v("使用 "),a("code",[t._v("duration:>5000")]),t._v(" 查找耗时长的运行")])]),t._v(" "),a("h3",{attrs:{id:"_3-评估策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-评估策略"}},[t._v("#")]),t._v(" 3. "),a("strong",[t._v("评估策略")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自定义评估函数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("contains_keyword_evaluator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("run"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""检查输出是否包含关键信息"""')]),t._v("\n    output "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" run"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outputs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"output"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    expected_keywords "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outputs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"expected_keywords"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    score "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keyword"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lower"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lower"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n               "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" keyword "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" expected_keywords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"score"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" score"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"comment"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"Contains keywords: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("expected_keywords"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"常见工作流示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见工作流示例"}},[t._v("#")]),t._v(" 常见工作流示例")]),t._v(" "),a("h3",{attrs:{id:"工作流1-提示词迭代优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工作流1-提示词迭代优化"}},[t._v("#")]),t._v(" 工作流1：提示词迭代优化")]),t._v(" "),a("ol",[a("li",[t._v("用初始提示词运行测试集")]),t._v(" "),a("li",[t._v("分析失败案例，修改提示词")]),t._v(" "),a("li",[t._v("用新提示词重新运行，比较结果")]),t._v(" "),a("li",[t._v("重复直到满意效果")])]),t._v(" "),a("h3",{attrs:{id:"工作流2-生产问题排查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工作流2-生产问题排查"}},[t._v("#")]),t._v(" 工作流2：生产问题排查")]),t._v(" "),a("ol",[a("li",[t._v("收到用户反馈回答质量下降")]),t._v(" "),a("li",[t._v("在LangSmith中筛选最近24小时的运行")]),t._v(" "),a("li",[t._v("按错误率或低分筛选，找到问题模式")]),t._v(" "),a("li",[t._v("分析具体trace，定位问题根源")])]),t._v(" "),a("h3",{attrs:{id:"工作流3-性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工作流3-性能优化"}},[t._v("#")]),t._v(" 工作流3：性能优化")]),t._v(" "),a("ol",[a("li",[t._v("识别耗时最长的组件")]),t._v(" "),a("li",[t._v("优化提示词或调整模型参数")]),t._v(" "),a("li",[t._v("添加缓存机制")]),t._v(" "),a("li",[t._v("监控优化后的性能指标")])]),t._v(" "),a("h2",{attrs:{id:"学习资源推荐"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习资源推荐"}},[t._v("#")]),t._v(" 学习资源推荐")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("官方文档")]),t._v("：https://docs.smith.langchain.com/")]),t._v(" "),a("li",[a("strong",[t._v("视频教程")]),t._v("：LangChain官方YouTube频道")]),t._v(" "),a("li",[a("strong",[t._v("社区示例")]),t._v("：查看LangSmith Hub中的共享项目")]),t._v(" "),a("li",[a("strong",[t._v("工作坊")]),t._v("：参加LangChain举办的线上工作坊")])]),t._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[a("strong",[t._v("快速掌握的关键")]),t._v("：")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("动手实践")]),t._v("：从简单的应用开始，逐步尝试每个功能")]),t._v(" "),a("li",[a("strong",[t._v("真实场景")]),t._v("：用您实际的项目来练习，解决真实问题")]),t._v(" "),a("li",[a("strong",[t._v("循序渐进")]),t._v("：按基础→中级→高级的顺序逐步掌握")]),t._v(" "),a("li",[a("strong",[t._v("社区参与")]),t._v("：查看别人的优秀实践，分享自己的经验")])]),t._v(" "),a("p",[t._v('LangSmith 的真正威力在于它将LLM应用开发从"黑盒调试"变成了"白盒优化"。花时间熟练掌握它，会在后续的开发中为您节省大量的时间和精力。')])])}),[],!1,null,null,null);a.default=r.exports}}]);