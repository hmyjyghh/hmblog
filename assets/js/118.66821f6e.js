(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{560:function(t,s,a){"use strict";a.r(s);var n=a(3),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"ner-任务指令数据构造"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ner-任务指令数据构造"}},[t._v("#")]),t._v(" NER 任务指令数据构造")]),t._v(" "),s("h3",{attrs:{id:"_1-核心概念-什么是ner的指令数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-核心概念-什么是ner的指令数据"}},[t._v("#")]),t._v(" 1. 核心概念：什么是NER的指令数据？")]),t._v(" "),s("ul",[s("li",[t._v("传统的NER数据格式通常是：")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("句子: [“深”, “度”, “求”, “索”, “是”, “一”, “家”, “伟”, “大”, “的”, “公”, “司”]\n标签: [“B-ORG”, “I-ORG”, “I-ORG”, “I-ORG”, “O”, “O”, “O”, “O”, “O”, “O”, “O”, “O”]\n")])])]),s("p",[t._v("而"),s("strong",[t._v("指令数据")]),t._v("则是将任务包装成一个自然语言指令，要求模型理解并执行。其核心结构是：")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("指令：")]),t._v(" 明确告诉模型要做什么任务。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("输入：")]),t._v(" 需要处理的文本。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("输出：")]),t._v(" 模型应该生成的、符合指令要求的答案。")])])]),t._v(" "),s("blockquote",[s("p",[t._v("对于NER任务，指令数据的目标是让模型学会"),s("strong",[t._v("根据指令的描述，从输入文本中找出特定类型的实体，并以指定的格式输出")]),t._v("。")])]),t._v(" "),s("h3",{attrs:{id:"_2-指令数据构造步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-指令数据构造步骤"}},[t._v("#")]),t._v(" 2. 指令数据构造步骤")]),t._v(" "),s("h4",{attrs:{id:"步骤一-定义实体类型和指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤一-定义实体类型和指令"}},[t._v("#")]),t._v(" 步骤一：定义实体类型和指令")]),t._v(" "),s("p",[t._v("首先，你需要明确你的NER任务要识别哪些实体。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("通用实体：")]),t._v(" 人名、地名、组织机构名、时间、日期、货币等。")]),t._v(" "),s("li",[s("strong",[t._v("领域特定实体：")]),t._v(" 医疗领域的药品名、疾病名；金融领域的股票代码、金融产品；法律领域的法律条款等。")])]),t._v(" "),s("p",[t._v("然后，为这些实体类型设计"),s("strong",[t._v("清晰、无歧义")]),t._v("的指令。")]),t._v(" "),s("p",[s("strong",[t._v("示例：")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("指令1（通用）：")]),t._v(" “请从给定的文本中找出所有的人名、地名和组织机构名。”")]),t._v(" "),s("li",[s("strong",[t._v("指令2（特定）：")]),t._v(" “请找出以下医疗文本中提到的所有疾病名称和药物名称。”")]),t._v(" "),s("li",[s("strong",[t._v("指令3（带格式要求）：")]),t._v(" “请从文本中提取所有的时间表达式，并以JSON列表的形式输出。”")])]),t._v(" "),s("h4",{attrs:{id:"步骤二-设计输出格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤二-设计输出格式"}},[t._v("#")]),t._v(" 步骤二：设计输出格式")]),t._v(" "),s("p",[t._v("输出格式至关重要，它决定了模型应该如何组织答案。常见的格式有：")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("列表/JSON格式（最推荐）：")])]),t._v(" "),s("ul",[s("li",[t._v("结构清晰，易于程序解析。")]),t._v(" "),s("li",[t._v("示例输出："),s("code",[t._v('{"人名": ["张三", "李四"], "组织机构": ["深度求索"]}')])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("自然语言描述：")])]),t._v(" "),s("ul",[s("li",[t._v("示例输出：“文本中提到的人名有张三和李四，组织机构有深度求索。”")]),t._v(" "),s("li",[t._v("优点是人类易读，但不利于自动化处理。")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("标记序列（不推荐用于指令）：")])]),t._v(" "),s("ul",[s("li",[t._v("类似于传统NER的BIO标签。这违背了指令学习的初衷，因为它要求模型理解复杂的标签体系，而不是执行自然语言指令。")])])])]),t._v(" "),s("h4",{attrs:{id:"步骤三-收集或创建文本数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤三-收集或创建文本数据"}},[t._v("#")]),t._v(" 步骤三：收集或创建文本数据")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("来源：")]),t._v(" 公开数据集（如MSRA, CoNLL-2003）、网络爬取、业务日志、人工编写等。")]),t._v(" "),s("li",[s("strong",[t._v("要求：")]),t._v(" 文本应包含你定义的实体类型，并且最好能覆盖不同的语言风格和上下文。")])]),t._v(" "),s("h4",{attrs:{id:"步骤四-标注与配对"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤四-标注与配对"}},[t._v("#")]),t._v(" 步骤四：标注与配对")]),t._v(" "),s("p",[t._v("将"),s("strong",[t._v("指令")]),t._v("、"),s("strong",[t._v("输入文本")]),t._v("和"),s("strong",[t._v("期望输出")]),t._v("组合成一个完整的样本。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("人工标注：")]),t._v(" 对于高质量数据，由标注人员阅读指令和文本，然后按照指定的输出格式写出答案。")]),t._v(" "),s("li",[s("strong",[t._v("自动转换：")]),t._v(" 如果你已有传统的BIO格式标注数据，可以编写脚本将其转换为指令格式。")])]),t._v(" "),s("h4",{attrs:{id:"步骤五-数据清洗与验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤五-数据清洗与验证"}},[t._v("#")]),t._v(" 步骤五：数据清洗与验证")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("一致性检查：")]),t._v(" 确保所有样本的输出格式都严格遵循要求。")]),t._v(" "),s("li",[s("strong",[t._v("准确性检查：")]),t._v(" 核对实体是否被正确识别和分类。")]),t._v(" "),s("li",[s("strong",[t._v("指令多样性：")]),t._v(" 对于同一实体类型，可以使用多种不同表述的指令，以增强模型的泛化能力。")])]),t._v(" "),s("h3",{attrs:{id:"_3-格式示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-格式示例"}},[t._v("#")]),t._v(" 3. 格式示例")]),t._v(" "),s("p",[t._v("下面提供几个不同复杂度的示例。")]),t._v(" "),s("h4",{attrs:{id:"示例1-基础单轮指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例1-基础单轮指令"}},[t._v("#")]),t._v(" 示例1：基础单轮指令")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"instruction"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请从给定的文本中识别出所有的人名、地名和组织机构名，并以JSON格式输出。"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"input"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"苹果公司首席执行官蒂姆·库克近日访问了中国的北京，并与清华大学进行了交流。"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"output"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\n  \\"人名\\": [\\"蒂姆·库克\\"],\\n  \\"地名\\": [\\"北京\\", \\"中国\\"],\\n  \\"组织机构\\": [\\"苹果公司\\", \\"清华大学\\"]\\n}"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"示例2-带明确格式要求的指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例2-带明确格式要求的指令"}},[t._v("#")]),t._v(" 示例2：带明确格式要求的指令")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"instruction"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你是一个信息提取助手。请从下面的新闻文本中找出所有提到的公司名和日期。请严格按照以下JSON格式输出：{\\"公司\\": [...], \\"日期\\": [...]}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"input"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"昨日，特斯拉股价大涨。与此同时，微软宣布将于下周五发布新财报。"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"output"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\n  \\"公司\\": [\\"特斯拉\\", \\"微软\\"],\\n  \\"日期\\": [\\"下周五\\"]\\n}"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"示例3-多轮对话指令-更复杂-更接近真实应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例3-多轮对话指令-更复杂-更接近真实应用"}},[t._v("#")]),t._v(" 示例3：多轮对话指令（更复杂，更接近真实应用）")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"role"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"content"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"接下来我会给你一些句子，请你帮我找出里面的人名和地名。明白了吗？"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"role"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"assistant"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"content"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"明白了。请提供文本，我会帮您找出其中的人名和地名。"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"role"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"content"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"第一句：李白和杜甫在长安城相遇。"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"role"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"assistant"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"content"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\n  \\"人名\\": [\\"李白\\", \\"杜甫\\"],\\n  \\"地名\\": [\\"长安城\\"]\\n}"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"role"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"content"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"第二句：苏轼曾被贬至惠州。"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"role"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"assistant"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"content"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\n  \\"人名\\": [\\"苏轼\\"],\\n  \\"地名\\": [\\"惠州\\"]\\n}"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("h3",{attrs:{id:"_4-最佳实践与注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-最佳实践与注意事项"}},[t._v("#")]),t._v(" 4. 最佳实践与注意事项")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("指令清晰明确：")]),t._v(" 避免使用“东西”、“等等”模糊词汇。明确实体类型的定义和边界（例如，“北京大学”是一个组织机构，而不是地名）。")]),t._v(" "),s("li",[s("strong",[t._v("输出格式标准化：")]),t._v(" 在整个数据集中保持输出格式的一致性。JSON是最佳选择，因为它结构化且通用。")]),t._v(" "),s("li",[s("strong",[t._v("处理实体重叠和嵌套：")]),t._v(" 提前规划如何处理一个词属于多个实体的情况（如“北京大学出版社”既包含地名“北京”又包含组织机构“大学出版社”）。")]),t._v(" "),s("li",[s("strong",[t._v("处理无实体情况：")]),t._v(" 确保指令数据中包含一些没有目标实体的文本，并教会模型如何正确响应（如输出空列表 "),s("code",[t._v("[]")]),t._v(" 或 "),s("code",[t._v("{}")]),t._v("）。")]),t._v(" "),s("li",[s("strong",[t._v("增加负样本：")]),t._v(" 包含一些指令模糊或文本中存在歧义的样本，以增强模型的鲁棒性。")]),t._v(" "),s("li",[s("strong",[t._v("规模与多样性：")]),t._v(" 指令数据的数量和质量直接决定模型性能。确保数据覆盖足够的领域、语言风格和指令表达方式。")])]),t._v(" "),s("h3",{attrs:{id:"_5-进阶技巧"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-进阶技巧"}},[t._v("#")]),t._v(" 5. 进阶技巧")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("思维链：")]),t._v(" 对于复杂实体，可以让模型先“思考”再输出。\n"),s("ul",[s("li",[s("strong",[t._v("指令：")]),t._v(" “先分析句子结构，然后找出所有的医疗手术名称。”")]),t._v(" "),s("li",[s("strong",[t._v("输出：")]),t._v(" “句子主要描述了手术过程。其中，‘冠状动脉搭桥术’是一个标准的医疗手术名称。最终答案是：['冠状动脉搭桥术']”")])])]),t._v(" "),s("li",[s("strong",[t._v("少样本学习：")]),t._v(" 在指令中提供一两个例子，"),s("strong",[t._v("让模型进行类比学习")]),t._v("。\n"),s("ul",[s("li",[s("strong",[t._v("指令：")]),t._v(" “请找出文本中的产品名。例如：输入‘我喜欢用iPhone和MacBook’，输出[‘iPhone’, ‘MacBook’]。现在请处理：...”")])])])]),t._v(" "),s("p",[t._v("通过以上步骤和原则，")]),t._v(" "),s("ul",[s("li",[t._v("你就可以系统地构造出高质量的NER指令数据，用于微调大语言模型，使其成为一个强大的、能够理解复杂指令的命名实体识别工具。")])])])}),[],!1,null,null,null);s.default=r.exports}}]);