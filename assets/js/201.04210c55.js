(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{651:function(a,s,t){"use strict";t.r(s);var e=t(3),n=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[s("code",[a._v("pip install -e .")]),a._v(" 和 "),s("code",[a._v("pip install .")]),a._v(" 的主要区别在于安装模式，这对于开发阶段非常重要。")]),a._v(" "),s("h2",{attrs:{id:"主要区别对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主要区别对比"}},[a._v("#")]),a._v(" 主要区别对比")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("特性")]),a._v(" "),s("th",[s("code",[a._v("pip install -e .")]),a._v(" (开发模式)")]),a._v(" "),s("th",[s("code",[a._v("pip install .")]),a._v(" (普通安装)")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[a._v("安装方式")])]),a._v(" "),s("td",[a._v("创建链接到源码目录")]),a._v(" "),s("td",[a._v("复制文件到 site-packages")])]),a._v(" "),s("tr",[s("td",[s("strong",[a._v("修改代码")])]),a._v(" "),s("td",[s("strong",[a._v("立即生效")]),a._v("，无需重新安装")]),a._v(" "),s("td",[a._v("需要重新运行 "),s("code",[a._v("pip install .")])])]),a._v(" "),s("tr",[s("td",[s("strong",[a._v("磁盘空间")])]),a._v(" "),s("td",[a._v("节省空间（不复制文件）")]),a._v(" "),s("td",[a._v("占用额外空间（复制文件）")])]),a._v(" "),s("tr",[s("td",[s("strong",[a._v("适用场景")])]),a._v(" "),s("td",[s("strong",[a._v("开发阶段")])]),a._v(" "),s("td",[s("strong",[a._v("生产环境")])])]),a._v(" "),s("tr",[s("td",[s("strong",[a._v("卸载")])]),a._v(" "),s("td",[s("code",[a._v("pip uninstall package")])]),a._v(" "),s("td",[s("code",[a._v("pip uninstall package")])])])])]),a._v(" "),s("h2",{attrs:{id:"详细解释"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#详细解释"}},[a._v("#")]),a._v(" 详细解释")]),a._v(" "),s("h3",{attrs:{id:"pip-install-e-开发模式-可编辑模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pip-install-e-开发模式-可编辑模式"}},[a._v("#")]),a._v(" "),s("code",[a._v("pip install -e .")]),a._v(" (开发模式/可编辑模式)")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("-e")]),a._v(' 表示 "editable"（可编辑）')]),a._v(" "),s("li",[a._v("在 "),s("code",[a._v("site-packages")]),a._v(" 中创建一个链接指向你的源码目录")]),a._v(" "),s("li",[s("strong",[a._v("修改代码后立即生效")]),a._v("，无需重新安装")]),a._v(" "),s("li",[a._v("非常适合包开发和调试")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 开发时使用，修改代码后立即生效")]),a._v("\npip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n")])])]),s("h3",{attrs:{id:"pip-install-普通安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pip-install-普通安装"}},[a._v("#")]),a._v(" "),s("code",[a._v("pip install .")]),a._v(" (普通安装)")]),a._v(" "),s("ul",[s("li",[a._v("将包文件复制到 Python 的 "),s("code",[a._v("site-packages")]),a._v(" 目录")]),a._v(" "),s("li",[a._v("修改源码后需要重新安装才能生效")]),a._v(" "),s("li",[a._v("适合最终部署和生产环境")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 生产环境使用，安装稳定版本")]),a._v("\npip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n")])])]),s("h2",{attrs:{id:"实际例子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实际例子"}},[a._v("#")]),a._v(" 实际例子")]),a._v(" "),s("p",[a._v("假设你在开发一个名为 "),s("code",[a._v("mypackage")]),a._v(" 的包：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 开发模式：修改代码立即生效")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /path/to/mypackage\npip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 修改 mypackage/module.py 后，更改立即生效")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 无需重新安装")]),a._v("\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 普通安装：修改后需要重新安装")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /path/to/mypackage\npip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 修改 mypackage/module.py 后，需要重新运行：")]),a._v("\npip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 更改才会生效")]),a._v("\n")])])]),s("h2",{attrs:{id:"在-peft-项目中的建议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在-peft-项目中的建议"}},[a._v("#")]),a._v(" 在 PEFT 项目中的建议")]),a._v(" "),s("p",[a._v("对于 PEFT 项目，"),s("strong",[a._v("推荐使用开发模式")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /mnt/workspace/peft\npip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n")])])]),s("p",[a._v("这样当你：")]),a._v(" "),s("ul",[s("li",[a._v("修改 PEFT 源码时")]),a._v(" "),s("li",[a._v("调试训练脚本时")]),a._v(" "),s("li",[a._v("测试新功能时")])]),a._v(" "),s("p",[a._v("所有更改都会立即生效，无需反复重新安装包。")]),a._v(" "),s("h2",{attrs:{id:"验证安装模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证安装模式"}},[a._v("#")]),a._v(" 验证安装模式")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 检查安装模式")]),a._v("\npip list "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" peft\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 开发模式会显示路径信息")]),a._v("\npeft                      "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.10")]),a._v(".0               /mnt/workspace/peft\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 普通安装只显示版本号")]),a._v("\npeft                      "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.10")]),a._v(".0\n")])])]),s("p",[s("strong",[a._v("总结")]),a._v("：在开发阶段总是使用 "),s("code",[a._v("pip install -e .")]),a._v("，只有在部署到生产环境时才使用 "),s("code",[a._v("pip install .")]),a._v("。")])])}),[],!1,null,null,null);s.default=n.exports}}]);