(window.webpackJsonp=window.webpackJsonp||[]).push([[164],{607:function(t,s,a){"use strict";a.r(s);var n=a(3),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-åŒ¿åå‡½æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-åŒ¿åå‡½æ•°"}},[t._v("#")]),t._v(" 1. åŒ¿åå‡½æ•°")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lambda")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" y\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lambda")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"ğŸ¯-ä¸€å¥è¯æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¯-ä¸€å¥è¯æ€»ç»“"}},[t._v("#")]),t._v(" ğŸ¯ ä¸€å¥è¯æ€»ç»“")]),t._v(" "),s("p",[s("strong",[s("code",[t._v('lambda x: x.split("\\n")')]),t._v(" å°±åƒä¸€ä¸ªã€Œè¿·ä½ åŠ å·¥æœºå™¨ã€ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼šæ¥æ”¶è¾“å…¥æ–‡æœ¬ï¼ŒæŒ‰æ¢è¡Œç¬¦åˆ‡å‰²æˆåˆ—è¡¨ï¼Œç„¶åè¾“å‡ºè¿™ä¸ªåˆ—è¡¨ã€‚")])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"å†™æ³•ä¸€-æ‚¨ä»£ç ä¸­çš„-lambda-æ–¹å¼-æœ€ç®€æ´"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å†™æ³•ä¸€-æ‚¨ä»£ç ä¸­çš„-lambda-æ–¹å¼-æœ€ç®€æ´"}},[t._v("#")]),t._v(" å†™æ³•ä¸€ï¼šæ‚¨ä»£ç ä¸­çš„ lambda æ–¹å¼ï¼ˆæœ€ç®€æ´ï¼‰")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lambda")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"å†™æ³•äºŒ-å®šä¹‰æ­£å¼å‡½æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å†™æ³•äºŒ-å®šä¹‰æ­£å¼å‡½æ•°"}},[t._v("#")]),t._v(" å†™æ³•äºŒï¼šå®šä¹‰æ­£å¼å‡½æ•°")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split_by_newline")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ngenerate_queries "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    prompt_perspectives \n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ChatOpenAI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" StrOutputParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" split_by_newline  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨å®šä¹‰å¥½çš„å‡½æ•°")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"å†™æ³•ä¸‰-å±•å¼€å†™æ›´æ¸…æ™°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å†™æ³•ä¸‰-å±•å¼€å†™æ›´æ¸…æ™°"}},[t._v("#")]),t._v(" å†™æ³•ä¸‰ï¼šå±•å¼€å†™æ›´æ¸…æ™°")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ†æ­¥æ‰§è¡Œï¼Œæ›´å®¹æ˜“ç†è§£")]),t._v("\nresult1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" prompt_perspectives"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("invoke"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresult2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ChatOpenAI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("invoke"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresult3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" StrOutputParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("invoke"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfinal_result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" result3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿™å°±æ˜¯lambdaåšçš„äº‹æƒ…")]),t._v("\n")])])]),s("hr"),t._v(" "),s("h3",{attrs:{id:"ğŸ› ï¸-å®é™…åº”ç”¨ç¤ºä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ› ï¸-å®é™…åº”ç”¨ç¤ºä¾‹"}},[t._v("#")]),t._v(" ğŸ› ï¸ å®é™…åº”ç”¨ç¤ºä¾‹")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å‡è®¾ LLM è¿”å›çš„æ–‡æœ¬æ˜¯ï¼š")]),t._v("\nllm_output "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ\næœºå™¨å­¦ä¹ çš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ\næ·±åº¦å­¦ä¹ ä¸æœºå™¨å­¦ä¹ æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"""')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç»è¿‡ lambda å¤„ç†ï¼š")]),t._v("\nquestions "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lambda")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("llm_output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("questions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¾“å‡º: ['ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ', 'æœºå™¨å­¦ä¹ çš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ', 'æ·±åº¦å­¦ä¹ ä¸æœºå™¨å­¦ä¹ æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ']")]),t._v("\n")])])]),s("hr"),t._v(" "),s("h3",{attrs:{id:"âš¡-è¿›é˜¶æŠ€å·§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âš¡-è¿›é˜¶æŠ€å·§"}},[t._v("#")]),t._v(" âš¡ è¿›é˜¶æŠ€å·§")]),t._v(" "),s("p",[t._v("å¦‚æœæƒ³è¦æ›´ä¸¥æ ¼çš„å¤„ç†ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å»é™¤ç©ºè¡Œå’Œç©ºç™½å­—ç¬¦")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lambda")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("line"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" line "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" line"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æˆ–è€…åªå–å‰Nä¸ªé—®é¢˜")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lambda")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"è¾“å‡ºlabelsä¸­æˆ‘ä»¬æ·»åŠ äº†å¤§é‡çš„-100ç‰¹æ®Šæ ‡è®°-å°†å…¶è¿‡æ»¤æ‰åå†è¾“å‡ºã€‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¾“å‡ºlabelsä¸­æˆ‘ä»¬æ·»åŠ äº†å¤§é‡çš„-100ç‰¹æ®Šæ ‡è®°-å°†å…¶è¿‡æ»¤æ‰åå†è¾“å‡ºã€‚"}},[t._v("#")]),t._v(" è¾“å‡ºlabelsä¸­æˆ‘ä»¬æ·»åŠ äº†å¤§é‡çš„-100ç‰¹æ®Šæ ‡è®°ï¼Œå°†å…¶è¿‡æ»¤æ‰åå†è¾“å‡ºã€‚")]),t._v(" "),s("div",{staticClass:"language-py extra-class"},[s("pre",{pre:!0,attrs:{class:"language-py"}},[s("code",[t._v("tokenizer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("decode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("filter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lambda")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" train_dataset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"labels"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);